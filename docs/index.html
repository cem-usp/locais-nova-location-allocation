<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta charset="UTF-8">
<meta name="generator" content="quarto-1.8.24">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Daniel Vartanian, Letícia Gonçalves Silva, Camila N. Fernandes, &amp; Mariana A. Giannotti">
<meta name="dcterms.date" content="2025-11-27">
<title>A Reproducible Pipeline for Maximal Coverage Location-Allocation of Food Establishments in Brazil Using the Locais-Nova Scale</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<link href="./images/favicon.svg" rel="icon" type="image/svg+xml">
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-51ed2b7efba85c808986edec323c5e71.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-6efe224236f7e5a1615e5d2b42852a6b.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-51ed2b7efba85c808986edec323c5e71.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-bb5183dd889ed94b30793f9b52eee8b6.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-d3ef5e81a44729a7b94f400bdb21a674.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-bb5183dd889ed94b30793f9b52eee8b6.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script><link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="site_libs/proj4-2.6.2/proj4.min.js"></script><script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="site_libs/leaflet-binding-2.2.3/leaflet.js"></script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta property="og:title" content="A Reproducible Pipeline for Maximal Coverage Location-Allocation of Food Establishments in Brazil Using the Locais-Nova Scale">
<meta property="og:description" content="">
<meta property="og:image" content="https://cem-usp.github.io/locais-nova-location-allocation/images/og-image.png">
<meta property="og:image:alt" content="Center for Metropolitan Studies">
<meta property="og:image:height" content="1600">
<meta property="og:image:width" content="2400">
<meta name="citation_title" content="A Reproducible Pipeline for Maximal Coverage Location-Allocation of Food Establishments in Brazil Using the Locais-Nova Scale
">
<meta name="citation_author" content="Daniel Vartanian, Letícia Gonçalves Silva, Camila N. Fernandes, &amp;amp; Mariana A. Giannotti">
<meta name="citation_publication_date" content="2025-11-27">
<meta name="citation_cover_date" content="2025-11-27">
<meta name="citation_year" content="2025">
<meta name="citation_online_date" content="2025-11-27">
<meta name="citation_fulltext_html_url" content="https://cem-usp.github.io/locais-nova-location-allocation/">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=Quarto;,citation_abstract=Quarto is an open-source scientific and technical publishing system built on Pandoc.;,citation_author=J. J. Allaire;,citation_author=Charles Teague;,citation_author=Yihui Xie;,citation_author=Christophe Dervieux;,citation_fulltext_html_url=https://quarto.org;,citation_doi=10.5281/ZENODO.5960048;,citation_publisher=Zenodo;">
<meta name="citation_reference" content="citation_title=Banco de dados do Sistema Único de Saúde - DATASUS;,citation_author=Brasil;,citation_author=Ministério da Saúde;,citation_author=Departamento de Informática do SUS;,citation_fulltext_html_url=https://datasus.saude.gov.br/;,citation_language=pt-BR;">
<meta name="citation_reference" content="citation_title=Módulo gerador de relatórios públicos: estado nutricional dos indivíduos acompanhados por período, fase do ciclo da vida e índice;,citation_author=Brasil;,citation_author=Sistema de Vigilância Alimentar e Nutricional;,citation_fulltext_html_url=https://sisaps.saude.gov.br/sisvan/relatoriopublico;,citation_language=pt-BR;">
<meta name="citation_reference" content="citation_title=CNAE 2.3 Subclasses;,citation_abstract=Dados sobre as subclasses da Classificação Nacional de Atividades Econômicas (CNAE) 2.3.;,citation_author=Instituto Brasileiro de Geografia e Estatística;,citation_author=Comissão Nacional de Classificação;,citation_fulltext_html_url=https://concla.ibge.gov.br/classificacoes/download-concla.html;,citation_language=pt-BR;,citation_publisher=SIDRA;">
<meta name="citation_reference" content="citation_title=Friction surface: Global walking only friction surface;,citation_abstract=Global friction surface enumerating land-based travel walking-only speed without access to motorized transport This layer map provides estimates of time required to traverse each pixel within an approximately one-by one-kilometer gridded representation of the Earth’s surface. The speed units are expressed as minutes required to travel one metre. The movement rates encapsulated within the friction surfaces were based on landscape characteristics and transportation infrastructure, and no individual movement data was used to create them. The friction surfaces were made by combining geographic datasets that each characterize a layer-specific cost of moving through the landscape. These datasets consisted of roads, railways, navigable waterways, bodies of water, land cover types, topographic conditions (elevation and slope angle), and national borders. Descriptions of these datasets and their associated processing steps are provided in Weiss et al. (2018). Note, however, that we did not consider air travel in this analysis. In this walking-only friction surface, we assumed that all road travel was limited to a walking speed of five kilometers per hour and all water travel was reduced to the rate for traversing a wetland or swimming of 1.0 kilometer per hour. The walking-only friction provided an upper bound of movement rates for individuals who lack access to, or cannot use, motorized transport.;,citation_author=Malaria Atlas Project;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_fulltext_html_url=https://data.malariaatlas.org/maps?layers=Accessibility:202001_Global_Walking_Only_Friction_Surface;,citation_language=en-US;">
<meta name="citation_reference" content="citation_title=OpenStreetMap;,citation_author=OpenStreetMap Contributors;,citation_fulltext_html_url=https://www.openstreetmap.org;,citation_publisher=OpenStreetMap Foundation;">
<meta name="citation_reference" content="citation_title=geocodebr: Geolocalização de endereços brasileiros;,citation_abstract=O {geocodebr} é um pacote computacional para geolicalização de endereços Brasileiros. O pacote oferece uma maneira simples e eficiente de geolocalizar dados sem limite de número de consultas. O pacote é baseado em conjuntos de dados espaciais abertos de endereços brasileiros, utilizando como fonte principal o Cadastro Nacional de Endereços para Fins Estatísticos (CNEFE). O CNEFE é publicado pelo Instituto Brasileiro de Geografia e Estatística (IBGE). Atualmente, o pacote está disponível apenas em R.;,citation_author=Rafael H. M. Pereira;,citation_author=Daniel Herszenhut;,citation_fulltext_html_url=https://ipeagit.github.io/geocodebr;,citation_doi=10.32614/CRAN.package.geocodebr;">
<meta name="citation_reference" content="citation_title=geobr: Download official spatial data sets of Brazil;,citation_abstract=geobr is a computational package to download official spatial data sets of Brazil. The package includes a wide range of geospatial data in geopackage format (like shapefiles but better), available at various geographic scales and for various years with harmonized attributes, projection and topology.;,citation_author=Rafael H. M. Pereira;,citation_author=Caio Nogueira Goncalves;,citation_fulltext_html_url=https://ipeagit.github.io/geobr;,citation_doi=10.32614/CRAN.package.geobr;">
<meta name="citation_reference" content="citation_title=R: A language and environment for statistical computing;,citation_author=R Core Team;,citation_fulltext_html_url=https://www.R-project.org;,citation_publisher=R Foundation for Statistical Computing;">
<meta name="citation_reference" content="citation_title=Sistema de classificação dos locais de aquisição de alimentos com base no &amp;amp;amp;lt;i&amp;gt;Guia Alimentar para a População Brasileira&amp;lt;/i&amp;gt;: Locais-Nova;,citation_abstract=Objetivo&nbsp; Propor um novo sistema de classificação de locais de aquisição de alimentos com base no Guia Alimentar para a População Brasileira, denominado Locais-Nova.Métodos&nbsp; Trata-se da utilização dos dados de aquisição domiciliar de alimentos da Pesquisa de Orçamentos Familiares 2017–2018. Os alimentos foram categorizados, segundo a classificação Nova, em alimentos in natura ou minimamente processados, ingredientes culinários, alimentos processados e alimentos ultraprocessados. Estimou-se a contribuição média de cada grupo da classificação Nova para o total de gramas adquiridas no Brasil. Comparou-se essa estimativa com a contribuição média de cada grupo da classificação Nova em cada um dos 16 locais de aquisição avaliados. Os locais foram classificados como “fontes de aquisição” para um grupo específico da classificação Nova sempre que a contribuição desse grupo em determinado local foi igual ou superior à média nacional.Resultados&nbsp; A Locais-Nova identificou três categorias de locais de aquisição: fontes de alimentos in natura ou minimamente processados e ingredientes culinários, fontes de alimentos processados e fontes de alimentos ultraprocessados. Hortifrutigranjeiros e açougues destacaram-se como principais fontes de alimentos in natura ou minimamente processados; minimercados e mercearias, como principais fontes de alimentos ultraprocessados; e padarias e confeitarias, como fontes de alimentos processados e ultraprocessados. Supermercados foram classificados como fontes de alimentos in natura ou minimamente processados e ultraprocessados.Conclusão&nbsp; Este estudo apresentou a classificação inovadora dos locais de aquisição de alimentos. Isso refletiu as recomendações do Guia Alimentar para a População Brasileira e possibilitou entender os padrões de aquisição alimentar nos diferentes tipos de locais.Palavras-chaveGuias Alimentares; Atenção Primária; Locais de Aquisição; Classificação Nova; Aquisição de Alimentos;,citation_author=Marcos Anderson Lucas Silva;,citation_author=Larissa Loures Mendes;,citation_author=Maria Alvim Leite;,citation_author=Luana Lara Rocha;,citation_author=Camila Aparecida Borges;,citation_author=Renata Bertazzi Levy;,citation_author=Maria Laura da Costa Louzada;,citation_publication_date=2025;,citation_cover_date=2025;,citation_year=2025;,citation_fulltext_html_url=https://www.scielo.br/j/ress/a/JnTLxYNL8Shg9KCWz4bcJfG/?lang=pt;,citation_doi=10.1590/S2237-96222025v34.20240361.pt;,citation_issn=1679-4974, 2237-9622;,citation_volume=34;,citation_language=pt-PT;,citation_journal_title=Epidemiologia e Serviços de Saúde;,citation_journal_abbrev=Epidemiol. Serv. Saúde;,citation_publisher=Secretaria de Vigilância em Saúde e Ambiente - Ministério da Saúde do Brasil;">
<meta name="citation_reference" content="citation_title=renv: Project environments;,citation_abstract=A dependency management toolkit for R. Using ’renv’, you can create and manage project-local R libraries, save the state of these libraries to a ’lockfile’, and later restore your library as required. Together, these tools can help make your projects more isolated, portable, and reproducible.;,citation_author=Kevin Ushey;,citation_author=Hadley Wickham;,citation_fulltext_html_url=https://doi.org/10.32614/CRAN.package.renv;">
<meta name="citation_reference" content="citation_title=A reproducible pipeline for processing, geocoding, and classifying CNPJs from the Brazilian Federal Revenue Service (RFB) using the Locais-Nova scale;,citation_abstract=A reproducible pipeline for processing, geocoding, and classifying CNPJs from the Brazilian Federal Revenue Service (RFB) using the Locais-Nova scale.;,citation_author=Daniel Vartanian;,citation_author=Clara de Lima e Silva Penz;,citation_author=Gabriel Caldeira;,citation_author=Camila Nastari Fernandes;,citation_author=Mariana Abrantes Giannotti;,citation_publication_date=2025;,citation_cover_date=2025;,citation_year=2025;,citation_fulltext_html_url=https://cem-usp.github.io/locais-nova-rfb-geocoding;,citation_publisher=Center for Metropolitan Studies of the University of São Paulo;">
<meta name="citation_reference" content="citation_title=The tidy tools manifesto;,citation_abstract=tidyverse;,citation_author=Hadley Wickham;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://tidyverse.tidyverse.org/articles/manifesto.html;,citation_language=en-US;,citation_publisher=Tidyverse;">
<meta name="citation_reference" content="citation_title=R for data science: Import, tidy, transform, visualize, and model data;,citation_abstract=Use R to turn data into insight, knowledge, and understanding. With this practical book, aspiring data scientists will learn how to do data science with R and RStudio, along with the tidyverseâ??a collection of R packages designed to work together to make data science fast, fluent, and fun. Even if you have no programming experience, this updated edition will have you doing data science quickly. You’ll learn how to import, transform, and visualize your data and communicate the results. And you’ll get a complete, big-picture understanding of the data science cycle and the basic tools you need to manage the details. Updated for the latest tidyverse features and best practices, new chapters show you how to get data from spreadsheets, databases, and websites. Exercises help you practice what you’ve learned along the way.;,citation_author=Hadley Wickham;,citation_author=Mine Çetinkaya-Rundel;,citation_author=Garrett Grolemund;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://r4ds.hadley.nz;,citation_isbn=978-1-4920-9740-2;,citation_language=en-US;">
<meta name="citation_reference" content="citation_title=The tidyverse style guide;,citation_author=Hadley Wickham;,citation_fulltext_html_url=https://style.tidyverse.org;,citation_language=en-US;">
<meta name="citation_reference" content="citation_title=Tidy design principles;,citation_author=Hadley Wickham;,citation_fulltext_html_url=https://design.tidyverse.org;,citation_language=en-US;">
</head>
<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/cem-usp/locais-nova-location-allocation/"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#problem" id="toc-problem" class="nav-link" data-scroll-target="#problem">Problem</a></li>
  <li><a href="#data-availability" id="toc-data-availability" class="nav-link" data-scroll-target="#data-availability">Data Availability</a></li>
  <li>
<a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul>
<li><a href="#source-of-data" id="toc-source-of-data" class="nav-link" data-scroll-target="#source-of-data">Source of Data</a></li>
  <li><a href="#data-munging" id="toc-data-munging" class="nav-link" data-scroll-target="#data-munging">Data Munging</a></li>
  <li><a href="#code-style" id="toc-code-style" class="nav-link" data-scroll-target="#code-style">Code Style</a></li>
  <li><a href="#reproducibility" id="toc-reproducibility" class="nav-link" data-scroll-target="#reproducibility">Reproducibility</a></li>
  </ul>
</li>
  <li>
<a href="#set-the-environment" id="toc-set-the-environment" class="nav-link" data-scroll-target="#set-the-environment">Set the Environment</a>
  <ul>
<li><a href="#load-packages" id="toc-load-packages" class="nav-link" data-scroll-target="#load-packages">Load Packages</a></li>
  <li><a href="#set-keys" id="toc-set-keys" class="nav-link" data-scroll-target="#set-keys">Set Keys</a></li>
  <li><a href="#set-data-directory" id="toc-set-data-directory" class="nav-link" data-scroll-target="#set-data-directory">Set Data Directory</a></li>
  <li><a href="#set-initial-variables" id="toc-set-initial-variables" class="nav-link" data-scroll-target="#set-initial-variables">Set Initial Variables</a></li>
  </ul>
</li>
  <li>
<a href="#download-rfb-data" id="toc-download-rfb-data" class="nav-link" data-scroll-target="#download-rfb-data">Download RFB Data</a>
  <ul>
<li><a href="#download-file" id="toc-download-file" class="nav-link" data-scroll-target="#download-file">Download File</a></li>
  <li><a href="#unlock-file" id="toc-unlock-file" class="nav-link" data-scroll-target="#unlock-file">Unlock File</a></li>
  </ul>
</li>
  <li>
<a href="#download-and-import-ibge-cnae-data" id="toc-download-and-import-ibge-cnae-data" class="nav-link" data-scroll-target="#download-and-import-ibge-cnae-data">Download and Import IBGE CNAE Data</a>
  <ul>
<li><a href="#download-data" id="toc-download-data" class="nav-link" data-scroll-target="#download-data">Download Data</a></li>
  <li><a href="#import-data" id="toc-import-data" class="nav-link" data-scroll-target="#import-data">Import Data</a></li>
  </ul>
</li>
  <li><a href="#download-and-import-census-tract-population-data" id="toc-download-and-import-census-tract-population-data" class="nav-link" data-scroll-target="#download-and-import-census-tract-population-data">Download and Import Census Tract Population Data</a></li>
  <li><a href="#download-and-import-census-tract-shape-data" id="toc-download-and-import-census-tract-shape-data" class="nav-link" data-scroll-target="#download-and-import-census-tract-shape-data">Download and Import Census Tract Shape Data</a></li>
  <li>
<a href="#explore-favela-data" id="toc-explore-favela-data" class="nav-link" data-scroll-target="#explore-favela-data">Explore Favela Data</a>
  <ul>
<li><a href="#filter-census-population-data" id="toc-filter-census-population-data" class="nav-link" data-scroll-target="#filter-census-population-data">Filter Census Population Data</a></li>
  <li><a href="#explore-data" id="toc-explore-data" class="nav-link" data-scroll-target="#explore-data">Explore Data</a></li>
  </ul>
</li>
  <li><a href="#filter-and-join-census-data" id="toc-filter-and-join-census-data" class="nav-link" data-scroll-target="#filter-and-join-census-data">Filter and Join Census Data</a></li>
  <li><a href="#create-favela-shape" id="toc-create-favela-shape" class="nav-link" data-scroll-target="#create-favela-shape">Create Favela Shape</a></li>
  <li><a href="#import-data-1" id="toc-import-data-1" class="nav-link" data-scroll-target="#import-data-1">Import Data</a></li>
  <li><a href="#filter-data" id="toc-filter-data" class="nav-link" data-scroll-target="#filter-data">Filter Data</a></li>
  <li><a href="#transform-data" id="toc-transform-data" class="nav-link" data-scroll-target="#transform-data">Transform Data</a></li>
  <li>
<a href="#explore-the-data" id="toc-explore-the-data" class="nav-link" data-scroll-target="#explore-the-data">Explore the Data</a>
  <ul>
<li><a href="#glimpse-data" id="toc-glimpse-data" class="nav-link" data-scroll-target="#glimpse-data">Glimpse Data</a></li>
  <li><a href="#show-favela-on-leaflet" id="toc-show-favela-on-leaflet" class="nav-link" data-scroll-target="#show-favela-on-leaflet">Show Favela on Leaflet</a></li>
  <li><a href="#plot-establishments" id="toc-plot-establishments" class="nav-link" data-scroll-target="#plot-establishments">Plot Establishments</a></li>
  <li><a href="#plot-tract-population" id="toc-plot-tract-population" class="nav-link" data-scroll-target="#plot-tract-population">Plot Tract Population</a></li>
  </ul>
</li>
  <li>
<a href="#compute-maximal-coverage-location-allocation-with-restaurants" id="toc-compute-maximal-coverage-location-allocation-with-restaurants" class="nav-link" data-scroll-target="#compute-maximal-coverage-location-allocation-with-restaurants">Compute Maximal Coverage Location-Allocation (With Restaurants)</a>
  <ul>
<li><a href="#filter-locais-nova-group" id="toc-filter-locais-nova-group" class="nav-link" data-scroll-target="#filter-locais-nova-group">Filter Locais-Nova Group</a></li>
  <li><a href="#check-allocation-data" id="toc-check-allocation-data" class="nav-link" data-scroll-target="#check-allocation-data">Check Allocation Data</a></li>
  <li><a href="#normalize-favela-shape-crs" id="toc-normalize-favela-shape-crs" class="nav-link" data-scroll-target="#normalize-favela-shape-crs">Normalize Favela Shape CRS</a></li>
  <li>
<a href="#plot-food-establishments" id="toc-plot-food-establishments" class="nav-link" data-scroll-target="#plot-food-establishments">Plot Food Establishments</a>
  <ul>
<li><a href="#plot-establishments-1" id="toc-plot-establishments-1" class="nav-link" data-scroll-target="#plot-establishments-1">Plot Establishments</a></li>
  <li><a href="#show-establishments-on-leaflet" id="toc-show-establishments-on-leaflet" class="nav-link" data-scroll-target="#show-establishments-on-leaflet">Show Establishments on Leaflet</a></li>
  </ul>
</li>
  <li><a href="#compute-travel-time" id="toc-compute-travel-time" class="nav-link" data-scroll-target="#compute-travel-time">Compute Travel Time</a></li>
  <li><a href="#plot-travel-time" id="toc-plot-travel-time" class="nav-link" data-scroll-target="#plot-travel-time">Plot Travel Time</a></li>
  <li><a href="#rasterize-population-data" id="toc-rasterize-population-data" class="nav-link" data-scroll-target="#rasterize-population-data">Rasterize Population Data</a></li>
  <li><a href="#compute-travel-time-stats" id="toc-compute-travel-time-stats" class="nav-link" data-scroll-target="#compute-travel-time-stats">Compute Travel Time Stats</a></li>
  </ul>
</li>
  <li>
<a href="#compute-maximal-coverage-location-allocation-without-restaurants" id="toc-compute-maximal-coverage-location-allocation-without-restaurants" class="nav-link" data-scroll-target="#compute-maximal-coverage-location-allocation-without-restaurants">Compute Maximal Coverage Location-Allocation (Without Restaurants)</a>
  <ul>
<li><a href="#filter-allocation-data" id="toc-filter-allocation-data" class="nav-link" data-scroll-target="#filter-allocation-data">Filter Allocation Data</a></li>
  <li><a href="#check-allocation-data-1" id="toc-check-allocation-data-1" class="nav-link" data-scroll-target="#check-allocation-data-1">Check Allocation Data</a></li>
  <li><a href="#normalize-favela-shape-crs-1" id="toc-normalize-favela-shape-crs-1" class="nav-link" data-scroll-target="#normalize-favela-shape-crs-1">Normalize Favela Shape CRS</a></li>
  <li>
<a href="#plot-food-establishments-1" id="toc-plot-food-establishments-1" class="nav-link" data-scroll-target="#plot-food-establishments-1">Plot Food Establishments</a>
  <ul>
<li><a href="#plot-establishments-2" id="toc-plot-establishments-2" class="nav-link" data-scroll-target="#plot-establishments-2">Plot Establishments</a></li>
  <li><a href="#show-establishments-on-leaflet-1" id="toc-show-establishments-on-leaflet-1" class="nav-link" data-scroll-target="#show-establishments-on-leaflet-1">Show Establishments on Leaflet</a></li>
  </ul>
</li>
  <li><a href="#compute-travel-time-1" id="toc-compute-travel-time-1" class="nav-link" data-scroll-target="#compute-travel-time-1">Compute Travel Time</a></li>
  <li><a href="#plot-travel-time-1" id="toc-plot-travel-time-1" class="nav-link" data-scroll-target="#plot-travel-time-1">Plot Travel Time</a></li>
  <li><a href="#rasterize-population-data-1" id="toc-rasterize-population-data-1" class="nav-link" data-scroll-target="#rasterize-population-data-1">Rasterize Population Data</a></li>
  <li><a href="#compute-travel-time-stats-1" id="toc-compute-travel-time-stats-1" class="nav-link" data-scroll-target="#compute-travel-time-stats-1">Compute Travel Time Stats</a></li>
  </ul>
</li>
  <li><a href="#citation" id="toc-citation" class="nav-link" data-scroll-target="#citation">Citation</a></li>
  <li><a href="#license" id="toc-license" class="nav-link" data-scroll-target="#license">License</a></li>
  <li><a href="#acknowledgments" id="toc-acknowledgments" class="nav-link" data-scroll-target="#acknowledgments">Acknowledgments</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/cem-usp/locais-nova-location-allocation/edit/main/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/cem-usp/locais-nova-location-allocation/blob/main/index.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/cem-usp/locais-nova-location-allocation/issues/" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="quarto-other-links"><h2>Other Links</h2><ul><li><a href="https://centrodametropole.fflch.usp.br"><i class="bi bi-link-45deg"></i>Center for Metropolitan Studies</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"></h1>
<p>A Reproducible Pipeline for Maximal Coverage Location-Allocation of Food Establishments in Brazil Using the Locais-Nova Scale</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daniel Vartanian, Letícia Gonçalves Silva, Camila N. Fernandes, &amp; Mariana A. Giannotti </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 27, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header><!-- badges: start --><p><a href="https://www.repostatus.org/#active"><img src="https://www.repostatus.org/badges/latest/active.svg" class="img-fluid" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a> <a href="https://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/license-GPLv3-bd0000.svg" class="img-fluid" alt="License: GPLv3"></a> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/license-CC_BY--NC--SA_4.0-lightgrey.svg" class="img-fluid" alt="License: CC BY-NC-SA 4.0"></a> <!-- badges: end --></p>
<section id="overview" class="level2"><h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>This report provides a reproducible pipeline for calculating the Maximal Coverage <a href="https://en.wikipedia.org/wiki/Location-allocation">Location-Allocation</a> to identify optimal sites for fresh and/or healthy food establishments in favelas (informal settlements in Brazil) and urban communities. The goal is to improve accessibility and maximize coverage within the study region.</p>
<p>For instructions on how to run the pipeline, see the repository <a href="https://github.com/cem-usp/locais-nova-location-allocation/blob/main/README.md">README</a>.</p>
<div class="callout callout-style-simple callout-warning">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This pipeline is still under development and may not be fully functional.</p>
<p>This warning will be removed once the pipeline is complete.</p>
</div>
</div>
</div>
</section><section id="problem" class="level2"><h2 class="anchored" data-anchor-id="problem">Problem</h2>
<p>The <a href="https://doi.org/10.17605/OSF.IO/ZE6WT">AcessoSAN</a> project aims to develop methods for measuring and analyzing inequities in access to fresh and/or healthy food in favelas and urban communities. Achieving this requires mapping the current food environment and identifying optimal locations for new food establishments to improve accessibility. This pipeline addresses this need by providing a systematic approach to <a href="https://en.wikipedia.org/wiki/Location-allocation">location-allocation</a> analysis using the Locais-Nova scale groups <span class="citation" data-cites="silva2025">(<a href="#ref-silva2025" role="doc-biblioref">Silva et al., 2025</a>)</span>.</p>
</section><section id="data-availability" class="level2"><h2 class="anchored" data-anchor-id="data-availability">Data Availability</h2>
<!-- Add OSF badge. -->
<p>The processed data are available in <a href="https://en.wikipedia.org/wiki/Comma-separated_values"><code>csv</code></a>, <a href="https://rdrr.io/r/base/readRDS.html"><code>rds</code></a> and <a href="https://en.wikipedia.org/wiki/Apache_Parquet"><code>parquet</code></a> formats through dedicated repositories on the Open Science Framework (<a href="https://osf.io/">OSF</a>). A metadata file is included alongside the validated datasets.</p>
<p>Only authorized personnel can access the pipeline <strong>raw</strong> and <strong>processed</strong> files. They are protected with <a href="https://en.wikipedia.org/wiki/RSA_cryptosystem">RSA</a> 4096-bit encryption (<a href="https://www.openssl.org/">OpenSSL</a>) and a 32-byte password to ensure data security.</p>
</section><section id="methods" class="level2"><h2 class="anchored" data-anchor-id="methods">Methods</h2>
<section id="source-of-data" class="level3"><h3 class="anchored" data-anchor-id="source-of-data">Source of Data</h3>
<p>The data used in this report come from the following sources:</p>
<ul>
<li>Brazilian Federal Revenue Service (<a href="https://www.gov.br/receitafederal/">RFB</a>)
<ul>
<li>Legal entities data from the National Register of Legal Entities (<a href="https://en.wikipedia.org/wiki/CNPJ">CNPJ</a>) <a href="https://dados.gov.br/dados/conjuntos-dados/cadastro-nacional-da-pessoa-juridica---cnpj">database</a>, used for company identification <span class="citation" data-cites="brasil">(<a href="#ref-brasil" role="doc-biblioref">Brasil et al., n.d.</a>)</span>.</li>
<li>Codes of Brazilian agencies and municipalities (<em>Tabela de Órgãos e Municípios</em>, <a href="(https://dados.gov.br/dados/conjuntos-dados/tabela-de-rgos-e-municpios)">TOM</a>) <span class="citation" data-cites="brasila">(<a href="#ref-brasila" role="doc-biblioref">Brasil &amp; Sistema de Vigilância Alimentar e Nutricional, n.d.</a>)</span>, used to identify municipalities in the CNPJ database.</li>
</ul>
</li>
<li>Brazilian Institute of Geography and Statistics (<a href="https://www.ibge.gov.br/">IBGE</a>)
<ul>
<li>Codes and descriptions from the National Classification of Economic Activities (<a href="https://concla.ibge.gov.br/concla.html">CNAE</a>) <span class="citation" data-cites="ibgeu">(<a href="#ref-ibgeu" role="doc-biblioref">Instituto Brasileiro de Geografia e Estatística &amp; Comissão Nacional de Classificação, n.d.</a>)</span>, used to match establishments to the Locais-Nova groups.</li>
<li>Tract shapes from the <a href="https://www.ibge.gov.br/en/statistics/social/labor/22836-2022-census-3.html">Brazilian 2022 Census</a> via the <a href="https://ipeagit.github.io/geobr/"><code>geobr</code></a> R package <span class="citation" data-cites="pereirab">(<a href="#ref-pereirab" role="doc-biblioref">Pereira &amp; Goncalves, n.d.</a>)</span>, used to calculate population density.</li>
<li>Tract population data from the <a href="https://www.ibge.gov.br/en/statistics/social/labor/22836-2022-census-3.html">Brazilian 2022 Census</a> via the <a href="https://ipeagit.github.io/censobr/"><code>censobr</code></a> R package <span class="citation" data-cites="pereirab">(<a href="#ref-pereirab" role="doc-biblioref">Pereira &amp; Goncalves, n.d.</a>)</span>, used to calculate population density.</li>
<li>Open spatial datasets of Brazilian addresses from the National Address Register for Statistical Purposes (<a href="https://www.ibge.gov.br/estatisticas/sociais/populacao/38734-cadastro-nacional-de-enderecos-para-fins-estatisticos.html">CNEFE</a>), used for geocoding the establishments via the <a href="https://ipeagit.github.io/geocodebr/"><code>geocodebr</code></a> R package <span class="citation" data-cites="pereiraa">(<a href="#ref-pereiraa" role="doc-biblioref">Pereira &amp; Herszenhut, n.d.</a>)</span>.</li>
</ul>
</li>
<li>Center for Metropolitan Studies (<a href="https://centrodametropole.fflch.usp.br/">CEM</a>)
<ul>
<li>Lookup table providing the classification linking the establishments <a href="https://www.gov.br/receitafederal/pt-br/assuntos/orientacao-tributaria/cadastros/cnpj/classificacao-nacional-de-atividades-economicas-2013-cnae">CNAEs</a> codes to the <a href="https://doi.org/10.1590/S2237-96222025v34.20240361.en">Locais-Nova</a> groups (Fernandes &amp; Giannotti, 2025). This data will remain private until further notice.</li>
</ul>
</li>
<li>Malaria Atlas Project (<a href="https://malariaatlas.org/">MAP</a>)
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/Friction_of_distance">Spatial friction</a> data based on the <em>Global Walking Only Friction Surface</em> dataset <span class="citation" data-cites="map2019a">(<a href="#ref-map2019a" role="doc-biblioref">Malaria Atlas Project, 2019</a>)</span>, used to calculate travel times.</li>
</ul>
</li>
<li>OpenStreetMap (<a href="https://www.openstreetmap.org/">OSM</a>)
<ul>
<li>
<a href="https://wiki.openstreetmap.org/wiki/Map_features#Highway">Road and footpaths</a> spatial data <span class="citation" data-cites="openstreetmap">(<a href="#ref-openstreetmap" role="doc-biblioref">OpenStreetMap Contributors, n.d.</a>)</span>, used to calculate travel times.</li>
</ul>
</li>
</ul>
<p>The dataset related to the Brazilian Federal Revenue Service (<a href="https://www.gov.br/receitafederal/">RFB</a>) used in this report was processed by Vartanian et al. <span class="citation" data-cites="vartanian2025z">(<a href="#ref-vartanian2025z" role="doc-biblioref">2025</a>)</span> and has its own dedicated pipeline, which can be accessed at: <a href="https://cem-usp.github.io/locais-nova-rfb-geocoding" class="uri">https://cem-usp.github.io/locais-nova-rfb-geocoding</a></p>
</section><section id="data-munging" class="level3"><h3 class="anchored" data-anchor-id="data-munging">Data Munging</h3>
<p>The data munging follow the data science workflow outlined by <span class="citation" data-cites="wickham2023e">Wickham et al. (<a href="#ref-wickham2023e" role="doc-biblioref">2023</a>)</span>, as illustrated in <a href="#fig-wickham-at-al-2023-figure-1" class="quarto-xref">Figure&nbsp;1</a>. All processes were made using the <a href="https://quarto.org/">Quarto</a> publishing system <span class="citation" data-cites="allaire">(<a href="#ref-allaire" role="doc-biblioref">Allaire et al., n.d.</a>)</span>, the <a href="https://www.r-project.org/">R</a> programming language <span class="citation" data-cites="rcoreteama">(<a href="#ref-rcoreteama" role="doc-biblioref">R Core Team, n.d.</a>)</span> and several R packages.</p>
<p>For data manipulation and workflow, priority was given to packages from the <a href="https://www.tidyverse.org/">tidyverse</a>, <a href="https://ropensci.org/">rOpenSci</a> and <a href="https://r-spatial.org/">r-spatial</a> ecosystems, as well as other packages adhering to the tidy tools manifesto <span class="citation" data-cites="wickham2023c">(<a href="#ref-wickham2023c" role="doc-biblioref">Wickham, 2023</a>)</span>.</p>
<div id="fig-wickham-at-al-2023-figure-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-wickham-at-al-2023-figure-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Data science workflow created by Wickham, Çetinkaya-Runde, and Grolemund.
</figcaption><div aria-describedby="fig-wickham-at-al-2023-figure-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<p><a href="images/wickham-at-al-2023-figure-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;1: Data science workflow created by Wickham, Çetinkaya-Runde, and Grolemund."><img src="images/wickham-at-al-2023-figure-1.png" class="img-fluid figure-img" style="width:75.0%"></a></p>
<p><span class="legend">Source: Reproduced from <span class="citation" data-cites="wickham2023e">Wickham et al. (<a href="#ref-wickham2023e" role="doc-biblioref">2023</a>)</span>.</span></p>
</div>
</figure>
</div>
</section><section id="code-style" class="level3"><h3 class="anchored" data-anchor-id="code-style">Code Style</h3>
<p>The Tidyverse <a href="https://tidyverse.tidyverse.org/articles/manifesto.html">Tidy Tools Manifesto</a> <span class="citation" data-cites="wickham2023c">(<a href="#ref-wickham2023c" role="doc-biblioref">Wickham, 2023</a>)</span>, <a href="https://style.tidyverse.org/">code style guide</a> <span class="citation" data-cites="wickhamb">(<a href="#ref-wickhamb" role="doc-biblioref">Wickham, n.d.-a</a>)</span> and <a href="https://design.tidyverse.org/">design principles</a> <span class="citation" data-cites="wickhamc">(<a href="#ref-wickhamc" role="doc-biblioref">Wickham, n.d.-b</a>)</span> were followed to ensure consistency and enhance readability.</p>
</section><section id="reproducibility" class="level3"><h3 class="anchored" data-anchor-id="reproducibility">Reproducibility</h3>
<p>The pipeline is fully reproducible and can be run again at any time. To ensure consistent results, the <a href="https://rstudio.github.io/renv/"><code>renv</code></a> package <span class="citation" data-cites="usheya">(<a href="#ref-usheya" role="doc-biblioref">Ushey &amp; Wickham, n.d.</a>)</span> is used to manage and restore the R environment. See the <a href="https://github.com/cem-usp/locais-nova-location-allocation/blob/main/README.md">README</a> file in the code repository to learn how to run it.</p>
</section></section><section id="set-the-environment" class="level2"><h2 class="anchored" data-anchor-id="set-the-environment">Set the Environment</h2>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This section sets up the R environment needed for the workflow.</p>
</div>
</div>
</div>
<section id="load-packages" class="level3"><h3 class="anchored" data-anchor-id="load-packages">Load Packages</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-lib.r-universe.dev/askpass">askpass</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/apache/arrow/">arrow</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://danielvartan.github.io/brandr/">brandr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rasmusab/beepr">beepr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ipeaGIT/censobr">censobr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://cli.r-lib.org">cli</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://jeroen.r-universe.dev/curl">curl</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://fs.r-lib.org">fs</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ipeagit.github.io/geobr/">geobr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/htmltools">htmltools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/">leaflet</a></span><span class="op">)</span></span>
<span><span class="co"># install.packages("remotes")</span></span>
<span><span class="co"># remotes::install_github("danielvartan/locationallocation")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://giacfalk.github.io/locationallocation">locationallocation</a></span><span class="op">)</span></span>
<span><span class="co"># remotes::install_github("danielvartan/lockr")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://danielvartan.github.io/lockr/">lockr</a></span><span class="op">)</span> <span class="co"># github.com/danielvartan/lockr</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://michaeldorman.github.io/nngeo/">nngeo</a></span><span class="op">)</span></span>
<span><span class="co"># remotes::install_github("danielvartan/orbis")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://danielvartan.github.io/orbis/">orbis</a></span><span class="op">)</span> <span class="co"># github.com/danielvartan/orbis</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/osfr/">osfr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/raster">raster</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/stars/">stars</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org">stringr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org">readxl</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-lib/zip">zip</a></span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="set-keys" class="level3"><h3 class="anchored" data-anchor-id="set-keys">Set Keys</h3>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>See the <a href="#data-availability">Data Availability</a> section for more information.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://docs.ropensci.org/osfr/reference/osf_auth.html">osf_auth</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span><span class="op">(</span><span class="st">"OSF_PAT"</span><span class="op">)</span><span class="op">)</span> <span class="co"># askpass())</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">public_key</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://here.r-lib.org/reference/here.html">here</a></span><span class="op">(</span><span class="st">"_ssh"</span>, <span class="st">"id_rsa.pub"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">private_key</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://here.r-lib.org/reference/here.html">here</a></span><span class="op">(</span><span class="st">"_ssh"</span>, <span class="st">"id_rsa"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">password</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span><span class="op">(</span><span class="st">"ACESSOSAN_PASSWORD"</span><span class="op">)</span> <span class="co"># askpass()</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="set-data-directory" class="level3"><h3 class="anchored" data-anchor-id="set-data-directory">Set Data Directory</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://here.r-lib.org/reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://fs.r-lib.org/reference/file_access.html">dir_exists</a></span><span class="op">(</span><span class="va">data_dir</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://fs.r-lib.org/reference/create.html">dir_create</a></span><span class="op">(</span><span class="va">data_dir</span>, recurse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="set-initial-variables" class="level3"><h3 class="anchored" data-anchor-id="set-initial-variables">Set Initial Variables</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">2025</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The <code>year</code> variable is related to the year of the <a href="https://www.gov.br/receitafederal/">RFB</a> dataset. At the moment, only the 2025 dataset is available.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fl">2025</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The <code>locais_nova_group</code> variable defines the Locais-Nova scale group <span class="citation" data-cites="silva2025">(<a href="#ref-silva2025" role="doc-biblioref">Silva et al., 2025</a>)</span>to be analyzed. This pipeline utilizes the Locais-Nova scale groups to classify food establishments.</p>
<p>The <code>G0</code> group is a distinct subset comprising establishments from the <code>G1-G2</code> group that are not simultaneously classified under <code>G3</code> or <code>G4</code>.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">locais_nova_group</span> <span class="op">&lt;-</span> <span class="st">"G0"</span> <span class="co"># G1-G2, G3, G4</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The <code>objective_minutes</code> variable defines the maximum travel time (in minutes) for coverage analysis.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">objective_minutes</span> <span class="op">&lt;-</span> <span class="fl">15</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The <code>favela</code> variable specifies the IBGE code of the favela to be analyzed. Select only <strong>one</strong> for analysis by uncommenting the corresponding IBGE code.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">favela</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="co"># 35503080012 # Heliópolis (São Paulo-SP)</span></span>
<span>  <span class="fl">35503080492</span> <span class="co"># Paraisópolis (São Paulo-SP)</span></span>
<span>  <span class="co"># 35503080435 # Nova Jaguaré (São Paulo-SP)</span></span>
<span>  <span class="co"># 35503081093 # Recanto do Paraíso (São Paulo-SP)</span></span>
<span>  <span class="co"># 35503080376 # Jardim Iporanga / Esmeralda (São Paulo-SP)</span></span>
<span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">municipality_code</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">favela</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">7</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section></section><section id="download-rfb-data" class="level2"><h2 class="anchored" data-anchor-id="download-rfb-data">Download RFB Data</h2>
<section id="download-file" class="level3"><h3 class="anchored" data-anchor-id="download-file">Download File</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">osf_raw_data_id</span> <span class="op">&lt;-</span> <span class="st">"2x6jb"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">osf_raw_data_files</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">osf_raw_data_id</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/osfr/reference/osf_retrieve.html">osf_retrieve_node</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/osfr/reference/osf_ls_files.html">osf_ls_files</a></span><span class="op">(</span></span>
<span>    type <span class="op">=</span> <span class="st">"file"</span>,</span>
<span>    pattern <span class="op">=</span> <span class="st">"2025-01.rds.lockr"</span>,</span>
<span>    n_max <span class="op">=</span> <span class="cn">Inf</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">osf_raw_data_files</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["id"],"name":[2],"type":["chr"],"align":["left"]},{"label":["meta"],"name":[3],"type":["list"],"align":["right"]}],"data":[{"1":"2025-01.rds.lockr","2":"690841d0c22b600df396c1ef","3":"<named list [3]>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">rfb_file</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">osf_raw_data_files</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://docs.ropensci.org/osfr/reference/osf_download.html">osf_download</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">data_dir</span>, conflicts <span class="op">=</span> <span class="st">"overwrite"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://magrittr.tidyverse.org/reference/aliases.html">extract2</a></span><span class="op">(</span><span class="st">"local_path"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="unlock-file" class="level3"><h3 class="anchored" data-anchor-id="unlock-file">Unlock File</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">rfb_file</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://danielvartan.github.io/lockr/reference/lock_file.html">unlock_file</a></span><span class="op">(</span></span>
<span>    private_key <span class="op">=</span> <span class="va">private_key</span>,</span>
<span>    suffix <span class="op">=</span> <span class="st">".lockr"</span>,</span>
<span>    remove_file <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    password <span class="op">=</span> <span class="va">password</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section></section><section id="download-and-import-ibge-cnae-data" class="level2"><h2 class="anchored" data-anchor-id="download-and-import-ibge-cnae-data">Download and Import IBGE CNAE Data</h2>
<section id="download-data" class="level3"><h3 class="anchored" data-anchor-id="download-data">Download Data</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cnae_file</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span></span>
<span>    <span class="st">"https:/"</span>,</span>
<span>    <span class="st">"concla.ibge.gov.br/images/concla/documentacao"</span>,</span>
<span>    <span class="st">"CNAE_Subclasses_2_3_Estrutura_Detalhada.xlsx"</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://jeroen.r-universe.dev/curl/reference/curl_download.html">curl_download</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://here.r-lib.org/reference/here.html">here</a></span><span class="op">(</span><span class="va">data_dir</span>, <span class="st">"CNAE_Subclasses_2_3_Estrutura_Detalhada.xlsx"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="import-data" class="level3"><h3 class="anchored" data-anchor-id="import-data">Import Data</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cnae_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">cnae_file</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_xlsx</a></span><span class="op">(</span></span>
<span>    sheet <span class="op">=</span> <span class="st">"Estrutura Det. CNAE Subclass2.3"</span>,</span>
<span>    range <span class="op">=</span> <span class="st">"E5:F2401"</span>,</span>
<span>    col_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cnae"</span>, <span class="st">"description"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">cnae</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    cnae <span class="op">=</span></span>
<span>      <span class="va">cnae</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html">str_extract_all</a></span><span class="op">(</span><span class="st">"\\d"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">paste</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cnae_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1,331</span></span>
<span><span class="co">#&gt; Columns: 2</span></span>
<span><span class="co">#&gt; $ cnae        &lt;chr&gt; "0111301", "0111302", "0111303", "0111399", "0112101", …</span></span>
<span><span class="co">#&gt; $ description &lt;chr&gt; "Cultivo de arroz", "Cultivo de milho", "Cultivo de tri…</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section></section><section id="download-and-import-census-tract-population-data" class="level2"><h2 class="anchored" data-anchor-id="download-and-import-census-tract-population-data">Download and Import Census Tract Population Data</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">census_population_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://ipeagit.github.io/censobr/reference/read_tracts.html">read_tracts</a></span><span class="op">(</span></span>
<span>    year <span class="op">=</span> <span class="fl">2022</span>, <span class="co"># Last available year</span></span>
<span>    dataset <span class="op">=</span> <span class="st">"Basico"</span>,</span>
<span>    as_data_frame <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    showProgress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    cache <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; ℹ Reading data cached locally.</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">census_population_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; FileSystemDataset with 1 Parquet file</span></span>
<span><span class="co">#&gt; 468,099 rows x 36 columns</span></span>
<span><span class="co">#&gt; $ code_tract               &lt;string&gt; "110001505000002", "110001505000003", "11…</span></span>
<span><span class="co">#&gt; $ situacao                 &lt;string&gt; "Urbana", "Urbana", "Urbana", "Urbana", "…</span></span>
<span><span class="co">#&gt; $ code_situacao            &lt;double&gt; 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 8, 8,…</span></span>
<span><span class="co">#&gt; $ code_type                &lt;double&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</span></span>
<span><span class="co">#&gt; $ area_km2                 &lt;double&gt; 0.5393102, 0.2362175, 0.2118666, 0.505447…</span></span>
<span><span class="co">#&gt; $ code_region              &lt;double&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span></span>
<span><span class="co">#&gt; $ name_region              &lt;string&gt; "Norte", "Norte", "Norte", "Norte", "Nort…</span></span>
<span><span class="co">#&gt; $ code_state               &lt;double&gt; 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 1…</span></span>
<span><span class="co">#&gt; $ name_state               &lt;string&gt; "Rondônia", "Rondônia", "Rondônia", "Rond…</span></span>
<span><span class="co">#&gt; $ code_muni                &lt;double&gt; 1100015, 1100015, 1100015, 1100015, 11000…</span></span>
<span><span class="co">#&gt; $ name_muni                &lt;string&gt; "Alta Floresta D'Oeste", "Alta Floresta D…</span></span>
<span><span class="co">#&gt; $ code_district            &lt;double&gt; 110001505, 110001505, 110001505, 11000150…</span></span>
<span><span class="co">#&gt; $ name_district            &lt;string&gt; "Alta Floresta D'Oeste", "Alta Floresta D…</span></span>
<span><span class="co">#&gt; $ code_subdistrict         &lt;double&gt; 11000150500, 11000150500, 11000150500, 11…</span></span>
<span><span class="co">#&gt; $ name_subdistrict         &lt;string&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ code_neighborhood        &lt;double&gt; 1100015006, 1100015006, 1100015005, 11000…</span></span>
<span><span class="co">#&gt; $ name_neighborhood        &lt;string&gt; "Redondo", "Redondo", "Princesa Isabel", …</span></span>
<span><span class="co">#&gt; $ code_nucleo_urbano       &lt;double&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ name_nucleo_urbano       &lt;string&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ code_favela              &lt;double&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ name_favela              &lt;string&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ code_aglomerado          &lt;double&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ name_aglomerado          &lt;string&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ code_intermediate        &lt;double&gt; 1102, 1102, 1102, 1102, 1102, 1102, 1102,…</span></span>
<span><span class="co">#&gt; $ name_intermediate        &lt;string&gt; "Ji-Paraná", "Ji-Paraná", "Ji-Paraná", "J…</span></span>
<span><span class="co">#&gt; $ code_immediate           &lt;double&gt; 110005, 110005, 110005, 110005, 110005, 1…</span></span>
<span><span class="co">#&gt; $ name_immediate           &lt;string&gt; "Cacoal", "Cacoal", "Cacoal", "Cacoal", "…</span></span>
<span><span class="co">#&gt; $ code_urban_concentration &lt;double&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ name_urban_concentration &lt;string&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ V0001                    &lt;double&gt; 928, 556, 222, 785, 748, 631, 884, 762, 2…</span></span>
<span><span class="co">#&gt; $ V0002                    &lt;double&gt; 376, 243, 102, 318, 334, 298, 386, 357, 1…</span></span>
<span><span class="co">#&gt; $ V0003                    &lt;double&gt; 376, 243, 102, 318, 334, 298, 386, 357, 1…</span></span>
<span><span class="co">#&gt; $ V0004                    &lt;double&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0,…</span></span>
<span><span class="co">#&gt; $ V0005                    &lt;double&gt; 2.8, 2.7, 2.6, 2.8, 2.6, 2.7, 2.7, 2.6, 2…</span></span>
<span><span class="co">#&gt; $ V0006                    &lt;double&gt; 0.0923, 0.0048, 0.0000, 0.0000, 0.0447, 0…</span></span>
<span><span class="co">#&gt; $ V0007                    &lt;double&gt; 336, 208, 85, 282, 291, 234, 329, 291, 10…</span></span>
<span><span class="co">#&gt; Call `print()` for full schema details</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="download-and-import-census-tract-shape-data" class="level2"><h2 class="anchored" data-anchor-id="download-and-import-census-tract-shape-data">Download and Import Census Tract Shape Data</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">census_tract_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://ipeagit.github.io/geobr/reference/read_census_tract.html">read_census_tract</a></span><span class="op">(</span></span>
<span>    code_tract <span class="op">=</span> <span class="va">municipality_code</span>,</span>
<span>    year <span class="op">=</span> <span class="fl">2022</span>, <span class="co"># Last available year</span></span>
<span>    simplified <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    showProgress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    cache <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Using year/date 2022</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">census_tract_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 27,301</span></span>
<span><span class="co">#&gt; Columns: 24</span></span>
<span><span class="co">#&gt; $ code_tract               &lt;dbl&gt; 355030801000001, 355030801000002, 35503080…</span></span>
<span><span class="co">#&gt; $ code_muni                &lt;dbl&gt; 3550308, 3550308, 3550308, 3550308, 355030…</span></span>
<span><span class="co">#&gt; $ name_muni                &lt;chr&gt; "São Paulo", "São Paulo", "São Paulo", "Sã…</span></span>
<span><span class="co">#&gt; $ name_neighborhood        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ code_neighborhood        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ code_subdistrict         &lt;dbl&gt; 35503080100, 35503080100, 35503080100, 355…</span></span>
<span><span class="co">#&gt; $ name_subdistrict         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ code_district            &lt;dbl&gt; 355030801, 355030801, 355030801, 355030801…</span></span>
<span><span class="co">#&gt; $ name_district            &lt;chr&gt; "Água Rasa", "Água Rasa", "Água Rasa", "Ág…</span></span>
<span><span class="co">#&gt; $ code_urban_concentration &lt;dbl&gt; 3550308, 3550308, 3550308, 3550308, 355030…</span></span>
<span><span class="co">#&gt; $ name_urban_concentration &lt;chr&gt; "São Paulo/SP", "São Paulo/SP", "São Paulo…</span></span>
<span><span class="co">#&gt; $ code_state               &lt;dbl&gt; 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35…</span></span>
<span><span class="co">#&gt; $ name_state               &lt;chr&gt; "São Paulo", "São Paulo", "São Paulo", "Sã…</span></span>
<span><span class="co">#&gt; $ code_immediate           &lt;dbl&gt; 350001, 350001, 350001, 350001, 350001, 35…</span></span>
<span><span class="co">#&gt; $ name_immediate           &lt;chr&gt; "São Paulo", "São Paulo", "São Paulo", "Sã…</span></span>
<span><span class="co">#&gt; $ code_intermediate        &lt;dbl&gt; 3501, 3501, 3501, 3501, 3501, 3501, 3501, …</span></span>
<span><span class="co">#&gt; $ name_intermediate        &lt;chr&gt; "São Paulo", "São Paulo", "São Paulo", "Sã…</span></span>
<span><span class="co">#&gt; $ code_region              &lt;dbl&gt; 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, …</span></span>
<span><span class="co">#&gt; $ name_region              &lt;chr&gt; "Sudeste", "Sudeste", "Sudeste", "Sudeste"…</span></span>
<span><span class="co">#&gt; $ situacao                 &lt;chr&gt; "Urbana", "Urbana", "Urbana", "Urbana", "U…</span></span>
<span><span class="co">#&gt; $ code_situacao            &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ code_type                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ area_km2                 &lt;dbl&gt; 0.07179665637, 0.07190181140, 0.0556811700…</span></span>
<span><span class="co">#&gt; $ geom                     &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-46.5695541..…</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="explore-favela-data" class="level2"><h2 class="anchored" data-anchor-id="explore-favela-data">Explore Favela Data</h2>
<section id="filter-census-population-data" class="level3"><h3 class="anchored" data-anchor-id="filter-census-population-data">Filter Census Population Data</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">favela_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">census_population_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">code_muni</span> <span class="op">==</span> <span class="va">.env</span><span class="op">$</span><span class="va">municipality_code</span>,</span>
<span>    <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">code_favela</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html">collect</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="explore-data" class="level3"><h3 class="anchored" data-anchor-id="explore-data">Explore Data</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">favela_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 3,879</span></span>
<span><span class="co">#&gt; Columns: 36</span></span>
<span><span class="co">#&gt; $ code_tract               &lt;chr&gt; "355030803000112", "355030803000113", "355…</span></span>
<span><span class="co">#&gt; $ situacao                 &lt;chr&gt; "Urbana", "Urbana", "Urbana", "Urbana", "U…</span></span>
<span><span class="co">#&gt; $ code_situacao            &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ code_type                &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ area_km2                 &lt;dbl&gt; 0.0102914, 0.0081105, 0.0106095, 0.0067497…</span></span>
<span><span class="co">#&gt; $ code_region              &lt;dbl&gt; 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, …</span></span>
<span><span class="co">#&gt; $ name_region              &lt;chr&gt; "Sudeste", "Sudeste", "Sudeste", "Sudeste"…</span></span>
<span><span class="co">#&gt; $ code_state               &lt;dbl&gt; 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35…</span></span>
<span><span class="co">#&gt; $ name_state               &lt;chr&gt; "São Paulo", "São Paulo", "São Paulo", "Sã…</span></span>
<span><span class="co">#&gt; $ code_muni                &lt;dbl&gt; 3550308, 3550308, 3550308, 3550308, 355030…</span></span>
<span><span class="co">#&gt; $ name_muni                &lt;chr&gt; "São Paulo", "São Paulo", "São Paulo", "Sã…</span></span>
<span><span class="co">#&gt; $ code_district            &lt;dbl&gt; 355030803, 355030803, 355030803, 355030803…</span></span>
<span><span class="co">#&gt; $ name_district            &lt;chr&gt; "Anhanguera", "Anhanguera", "Anhanguera", …</span></span>
<span><span class="co">#&gt; $ code_subdistrict         &lt;dbl&gt; 35503080300, 35503080300, 35503080300, 355…</span></span>
<span><span class="co">#&gt; $ name_subdistrict         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ code_neighborhood        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ name_neighborhood        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ code_nucleo_urbano       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ name_nucleo_urbano       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ code_favela              &lt;dbl&gt; 35503081115, 35503081121, 35503081116, 355…</span></span>
<span><span class="co">#&gt; $ name_favela              &lt;chr&gt; "Favelinha Jardim Jaraguá", "Jardim Jaragu…</span></span>
<span><span class="co">#&gt; $ code_aglomerado          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ name_aglomerado          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ code_intermediate        &lt;dbl&gt; 3501, 3501, 3501, 3501, 3501, 3501, 3501, …</span></span>
<span><span class="co">#&gt; $ name_intermediate        &lt;chr&gt; "São Paulo", "São Paulo", "São Paulo", "Sã…</span></span>
<span><span class="co">#&gt; $ code_immediate           &lt;dbl&gt; 350001, 350001, 350001, 350001, 350001, 35…</span></span>
<span><span class="co">#&gt; $ name_immediate           &lt;chr&gt; "São Paulo", "São Paulo", "São Paulo", "Sã…</span></span>
<span><span class="co">#&gt; $ code_urban_concentration &lt;dbl&gt; 3550308, 3550308, 3550308, 3550308, 355030…</span></span>
<span><span class="co">#&gt; $ name_urban_concentration &lt;chr&gt; "São Paulo/SP", "São Paulo/SP", "São Paulo…</span></span>
<span><span class="co">#&gt; $ V0001                    &lt;dbl&gt; 363, 260, 166, 449, 450, 188, 554, 570, 46…</span></span>
<span><span class="co">#&gt; $ V0002                    &lt;dbl&gt; 138, 118, 65, 181, 171, 69, 225, 217, 162,…</span></span>
<span><span class="co">#&gt; $ V0003                    &lt;dbl&gt; 138, 118, 65, 181, 171, 69, 225, 217, 162,…</span></span>
<span><span class="co">#&gt; $ V0004                    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ V0005                    &lt;dbl&gt; 2.9, 2.8, 2.7, 2.8, 2.9, 2.9, 2.8, 2.9, 3.…</span></span>
<span><span class="co">#&gt; $ V0006                    &lt;dbl&gt; 0.6772, 0.2447, 0.1935, 0.2778, 0.3377, 0.…</span></span>
<span><span class="co">#&gt; $ V0007                    &lt;dbl&gt; 127, 94, 62, 162, 154, 65, 195, 195, 151, …</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">favela_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">name_favela</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1363</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">favela_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">code_favela</span>, <span class="va">name_favela</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">name_favela</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["code_favela"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["name_favela"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"35503081288","2":"Abacateiro"},{"1":"35503081180","2":"Abel Marciano / Maria Quedas"},{"1":"35503082223","2":"Adolfo Adam"},{"1":"35503080598","2":"Afonso Domingues"},{"1":"35503080302","2":"Agenor Alves Meira / Carlos Shumacker"},{"1":"35503080103","2":"Agreste de Itabaiana"},{"1":"35503082208","2":"Agrimensor Sugaya e Vila Cosmopolita"},{"1":"35503082185","2":"Alba"},{"1":"35503081312","2":"Albacora"},{"1":"35503081686","2":"Alegre"},{"1":"35503080985","2":"Alegria"},{"1":"35503080571","2":"Alegria II"},{"1":"35503081685","2":"Alferez Frazão"},{"1":"35503081197","2":"Alfredo Avila"},{"1":"35503081201","2":"Alfredo Hanisch"},{"1":"35503081027","2":"Alfredo Ometecidio"},{"1":"35503081194","2":"Alpheu Luiz Gasparini"},{"1":"35503081340","2":"Alto da Alegria"},{"1":"35503081275","2":"Alto da Rivieira B / Jardim Guanguará"},{"1":"35503081733","2":"Alto da Riviera II"},{"1":"35503080408","2":"Alto do Riviera A"},{"1":"35503080647","2":"Alto do Riviera VI"},{"1":"35503082061","2":"Altos da Vila Prudente"},{"1":"35503081785","2":"Alziro P. Magalhães"},{"1":"35503080068","2":"Amadeu"},{"1":"35503081284","2":"Americanópolis II"},{"1":"35503080125","2":"Ana Maria"},{"1":"35503080848","2":"Anajazeira"},{"1":"35503080998","2":"André Cavalcante"},{"1":"35503081167","2":"André da Cunha Fonseca"},{"1":"35503081307","2":"Angelo Tarsini"},{"1":"35503080602","2":"Angusto Gonzaga"},{"1":"35503081585","2":"Anhanguera"},{"1":"35503080116","2":"Anthero Gomes do Nascimento"},{"1":"35503081579","2":"Antonio Candido de Alvarenga"},{"1":"35503081790","2":"Antônio Carlos Teixeira Monteiro"},{"1":"35503080212","2":"Antônio Madi"},{"1":"35503081174","2":"Antônio Vieira Marcondes II"},{"1":"35503081150","2":"Apuanã"},{"1":"35503082133","2":"Apóstolos"},{"1":"35503080117","2":"Aquarela do Parque Edu Chaves"},{"1":"35503080347","2":"Araripira"},{"1":"35503080639","2":"Aristocrata Clube - invasão"},{"1":"35503081185","2":"Armação"},{"1":"35503080398","2":"Arpoador"},{"1":"35503081644","2":"Ascendino Reis"},{"1":"35503080956","2":"Ascenso Fernandes"},{"1":"35503081793","2":"Ataliba Leonel I"},{"1":"35503081159","2":"Aterro Sanitário"},{"1":"35503081006","2":"Augusto Montenegro"},{"1":"35503080482","2":"Autódromo II"},{"1":"35503081795","2":"Avaré"},{"1":"35503081796","2":"Avenida Aricanduva"},{"1":"35503082222","2":"Avenida Arraias do Araguaia"},{"1":"35503080209","2":"Avenida Belmira Marin"},{"1":"35503081797","2":"Avenida Bento Guelfi"},{"1":"35503082053","2":"Avenida Carlos Barbosa Santos / Estrada do Schmidt"},{"1":"35503082186","2":"Avenida Coronel Sezefredo Fagundes"},{"1":"35503082146","2":"Avenida Córrego Três Pontes"},{"1":"35503082175","2":"Avenida Doutor José Artur Nova"},{"1":"35503080107","2":"Avenida Gabriela Mistral"},{"1":"35503082187","2":"Avenida João Simão de Castro"},{"1":"35503081278","2":"Avenida Marginal I"},{"1":"35503081802","2":"Avenida Parada Pinto"},{"1":"35503081803","2":"Avenida Ragheb Chohfi"},{"1":"35503081702","2":"Avenida Sapopemba - KM 29"},{"1":"35503081799","2":"Avenida dos Funcionários Públicos"},{"1":"35503081426","2":"B 14"},{"1":"35503080194","2":"Babilônia"},{"1":"35503081384","2":"Baixa Grande"},{"1":"35503081564","2":"Balbino Miranda"},{"1":"35503081458","2":"Baldomero Fernandez"},{"1":"35503081209","2":"Balneário São José"},{"1":"35503080106","2":"Baltazar de Campos / Viela A"},{"1":"35503082234","2":"Bananal Direito"},{"1":"35503081184","2":"Banduíra"},{"1":"35503081616","2":"Barra da Buriquióca"},{"1":"35503081809","2":"Barro Branco"},{"1":"35503080854","2":"Bartira"},{"1":"35503081131","2":"Barão de Resende"},{"1":"35503081810","2":"Basiléia II"},{"1":"35503081029","2":"Basílio Teles"},{"1":"35503081703","2":"Beatriz"},{"1":"35503081090","2":"Beija-Flor"},{"1":"35503080443","2":"Beira da Linha"},{"1":"35503080081","2":"Beira-Mar"},{"1":"35503081578","2":"Belém de Maria I e II"},{"1":"35503080738","2":"Benedito Salgado Cambalacho"},{"1":"35503080951","2":"Bento Bicudo I e II"},{"1":"35503081773","2":"Bento Guelfi"},{"1":"35503081263","2":"Bernardim Ribeiro"},{"1":"35503081407","2":"Bernardino de Campos"},{"1":"35503081811","2":"Blocos Ebenizer"},{"1":"35503082221","2":"Boa Esperança"},{"1":"35503081226","2":"Boa Vista"},{"1":"35503081812","2":"Boi Malhado I"},{"1":"35503081813","2":"Boi Malhado II"},{"1":"35503081148","2":"Bonifácio Maia"},{"1":"35503080685","2":"Boqueirão"},{"1":"35503081178","2":"Boros"},{"1":"35503080110","2":"Botafogo"},{"1":"35503081257","2":"Boulevard da Paz"},{"1":"35503080779","2":"Breno Acioli"},{"1":"35503080528","2":"Brás de Abreu"},{"1":"35503081759","2":"Bueru"},{"1":"35503081817","2":"Buraco do Sapo"},{"1":"35503080527","2":"Buraco do Sapo I e II"},{"1":"35503082188","2":"Butantã D"},{"1":"35503081726","2":"Caboré"},{"1":"35503082069","2":"Caboré Itaquera"},{"1":"35503081170","2":"Cabuçu I"},{"1":"35503081492","2":"Cabuçu II"},{"1":"35503081331","2":"Cachoeira das Garças"},{"1":"35503081000","2":"Caititu"},{"1":"35503082174","2":"Caixa D'Água (Limão)"},{"1":"35503080043","2":"Caixa D'água"},{"1":"35503080190","2":"Camarazal"},{"1":"35503080926","2":"Caminho Particular"},{"1":"35503081819","2":"Campinas I e II"},{"1":"35503080169","2":"Campo Formoso / João Francisco"},{"1":"35503080158","2":"Campo Grande I"},{"1":"35503082039","2":"Campo Limpo C"},{"1":"35503081493","2":"Campo Novo do Sul / Campo Novo do Sul II"},{"1":"35503081191","2":"Campo de Luta"},{"1":"35503081324","2":"Campo dos Ferreiras I"},{"1":"35503081219","2":"Campos de Mello III"},{"1":"35503081822","2":"Canal do Cocaia"},{"1":"35503081232","2":"Candida Ramos"},{"1":"35503080176","2":"Cantagalo"},{"1":"35503081620","2":"Cantidio Sampaio"},{"1":"35503080782","2":"Cantinho do Céu / Parque Eucalipto"},{"1":"35503080631","2":"Cantinho do Céu I"},{"1":"35503081330","2":"Canto da Noite / Mar Desconhecido"},{"1":"35503081137","2":"Canto da Saudade"},{"1":"35503080989","2":"Carlos Felber"},{"1":"35503080253","2":"Carlos Mattiz"},{"1":"35503080977","2":"Carombé de Baixo"},{"1":"35503081315","2":"Carombé do Alto"},{"1":"35503081990","2":"Carrãozinho II"},{"1":"35503080524","2":"Caruxa"},{"1":"35503081063","2":"Castelinho"},{"1":"35503081332","2":"Castro Alves"},{"1":"35503081826","2":"Castro Prado"},{"1":"35503081827","2":"Cefalonia / Moenda Velha"},{"1":"35503080263","2":"Cemitério do Horto"},{"1":"35503081828","2":"Cepo"},{"1":"35503080862","2":"Chamocos"},{"1":"35503081568","2":"Chapada de Minas"},{"1":"35503081776","2":"Chapena"},{"1":"35503081182","2":"Charco"},{"1":"35503081187","2":"Charles Cameron"},{"1":"35503080832","2":"Chazinho"},{"1":"35503081212","2":"Chica Luiza II"},{"1":"35503081598","2":"Chácara"},{"1":"35503082097","2":"Chácara Bandeirante"},{"1":"35503081189","2":"Chácara Chacrinha"},{"1":"35503081769","2":"Chácara Dona América"},{"1":"35503081282","2":"Chácara Nossa Senhora Aparecida"},{"1":"35503082036","2":"Chácara Santa Maria"},{"1":"35503080404","2":"Chácara Santana I. II e III"},{"1":"35503081833","2":"Chácara Sonho Azul - A"},{"1":"35503081832","2":"Chácara São Fidelis / Tomé"},{"1":"35503081834","2":"Chácara Tanay"},{"1":"35503081593","2":"Chácara Vale do Sol / Morro da Mandioca"},{"1":"35503081830","2":"Chácara do Conde - Invasão"},{"1":"35503081831","2":"Chácara do Meio / Jd. Apura / Portal Ecol"},{"1":"35503082189","2":"Chácara do Sol"},{"1":"35503080276","2":"Cidade A. E. Carvalho"},{"1":"35503082149","2":"Cidade A.E. Carvalho 5"},{"1":"35503081397","2":"Cidade Alta"},{"1":"35503080690","2":"Cidade Alta II"},{"1":"35503080429","2":"Cidade Azul / Cidade Azul II"},{"1":"35503080707","2":"Cidade Baixa"},{"1":"35503081836","2":"Cidade Ipava"},{"1":"35503082110","2":"Cidade Julia"},{"1":"35503081183","2":"Cidade Nova"},{"1":"35503082048","2":"Cidade Papai Noel"},{"1":"35503081837","2":"Cidade Papai Noel 2"},{"1":"35503081372","2":"Cidade da Criança Autoban"},{"1":"35503080991","2":"Cidade de Deus"},{"1":"35503080441","2":"Cidade de Santos"},{"1":"35503080070","2":"Cinco de Julho"},{"1":"35503081073","2":"Circular / Jardim Pedra Branca"},{"1":"35503080445","2":"Cirenaica"},{"1":"35503080982","2":"Clara Nunes"},{"1":"35503080498","2":"Cocaia I"},{"1":"35503081169","2":"Coimbra"},{"1":"35503081495","2":"Colibris da Serra"},{"1":"35503080552","2":"Colina"},{"1":"35503080204","2":"Colonial"},{"1":"35503082190","2":"Colônia - Jardim Pedra Branca"},{"1":"35503080679","2":"Complexo Célia Irene Etelvina / Baltazar Barroso"},{"1":"35503080321","2":"Complexo Penha Brasil"},{"1":"35503081735","2":"Comunidade 21"},{"1":"35503080922","2":"Comunidade Canto do Rio Verde"},{"1":"35503082102","2":"Comunidade Córrego do Oratório"},{"1":"35503080796","2":"Comunidade Itajuíbe"},{"1":"35503082219","2":"Comunidade Jardim Virgínia"},{"1":"35503081727","2":"Comunidade Pintadinho / Frei Muniz"},{"1":"35503081838","2":"Comunidade Sete de Setembro"},{"1":"35503081136","2":"Conde Moreira Lima"},{"1":"35503080307","2":"Condessa Amália Matarazzo"},{"1":"35503081639","2":"Condomínio 3M / Clube de Pesca Santa Bárbara"},{"1":"35503081839","2":"Condomínio Fechado Eliane"},{"1":"35503081722","2":"Condomínio Prisma"},{"1":"35503082128","2":"Condomínio Residencial Esplanada"},{"1":"35503081688","2":"Conj. Habitacional Cangaíba A"},{"1":"35503080939","2":"Conj. Habitacional São Miguel Paulista - P"},{"1":"35503080855","2":"Conjunto Habitacional Guaianases C"},{"1":"35503082058","2":"Conjunto Habitacional Vila Prudente B"},{"1":"35503082045","2":"Conjunto Nossa Senhora Aparecida"},{"1":"35503081395","2":"Conjunto Promorar Sapopemba"},{"1":"35503080365","2":"Conselheiro Moreira de Barros"},{"1":"35503081019","2":"Constantino de Oliveira Ledo I"},{"1":"35503081840","2":"Coronel Hugo Bradaschia"},{"1":"35503081841","2":"Coronel João Cabanas"},{"1":"35503080264","2":"Corrego Pintadinho"},{"1":"35503080113","2":"Coréia"},{"1":"35503081254","2":"Costa do Valado"},{"1":"35503081015","2":"Cromer"},{"1":"35503081408","2":"Cruz de Malta"},{"1":"35503082056","2":"Curema"},{"1":"35503081081","2":"Céu Sapopemba"},{"1":"35503080797","2":"Córrego João Botelho"},{"1":"35503081371","2":"Córrego da Mina"},{"1":"35503080930","2":"Córrego do Bispo"},{"1":"35503081618","2":"Daniel Ayala"},{"1":"35503082120","2":"Daniel Cerri III"},{"1":"35503081036","2":"Daniel Gran"},{"1":"35503080703","2":"Dario Ribeiro"},{"1":"35503080111","2":"Dejanira"},{"1":"35503081845","2":"Delmondes"},{"1":"35503081053","2":"Dendezeiro"},{"1":"35503081143","2":"Dersa"},{"1":"35503080007","2":"Dezenove"},{"1":"35503080772","2":"Dias Vieira"},{"1":"35503080612","2":"Diogo Pires / Barão de Antonina"},{"1":"35503080850","2":"Diogo Ramires"},{"1":"35503081587","2":"Do Areião"},{"1":"35503080845","2":"Do Moinho"},{"1":"35503080097","2":"Dois de Maio"},{"1":"35503080627","2":"Domingos Tavares Santiago"},{"1":"35503080278","2":"Domingos Vera"},{"1":"35503080539","2":"Domitila"},{"1":"35503081156","2":"Domênico Ferrabosco / Joana D'arc"},{"1":"35503080749","2":"Domênico Lansete"},{"1":"35503080172","2":"Dona Lola"},{"1":"35503081756","2":"Dornas Filho"},{"1":"35503081695","2":"Edmundo de Paula Coelho"},{"1":"35503080735","2":"Eldorado"},{"1":"35503081659","2":"Elida"},{"1":"35503080973","2":"Elisa Maria"},{"1":"35503080981","2":"Elísio Teixeira Leite"},{"1":"35503081104","2":"Elísio Teixeira Leite II"},{"1":"35503080324","2":"Emboabas / César Ravasco"},{"1":"35503082209","2":"Encontros e Despedidas"},{"1":"35503081316","2":"Encosta do Céu Paz / Jardim Paraná"},{"1":"35503080774","2":"Enlevo"},{"1":"35503081691","2":"Entre Rios I"},{"1":"35503082191","2":"Entre Rios II"},{"1":"35503081199","2":"Ernesto Simões Filho"},{"1":"35503081419","2":"Erundina"},{"1":"35503080030","2":"Erótides de Campos"},{"1":"35503081103","2":"Espama"},{"1":"35503080067","2":"Esperantinópolis"},{"1":"35503081089","2":"Esperança"},{"1":"35503082171","2":"Estado de São Paulo"},{"1":"35503081853","2":"Estação Jaraguá"},{"1":"35503081705","2":"Estrada Aricanduva"},{"1":"35503081765","2":"Estrada Vargem Grande / Colonial"},{"1":"35503082131","2":"Estrada Velha do Bororé"},{"1":"35503081856","2":"Estrada da Ligação"},{"1":"35503081857","2":"Estrada da Represa"},{"1":"35503081858","2":"Estrada da Vovó Carolina"},{"1":"35503081859","2":"Estrada de Poá"},{"1":"35503081860","2":"Estrada do Cangaíba"},{"1":"35503082192","2":"Estrada do Palanque"},{"1":"35503081007","2":"Estrela"},{"1":"35503082052","2":"Estância de Jequirituba"},{"1":"35503080964","2":"Etelvina B"},{"1":"35503080296","2":"Eucalíptos"},{"1":"35503081375","2":"Fatec"},{"1":"35503081738","2":"Faustino da Silva"},{"1":"35503080773","2":"Favela Araguary I e II (Muriçoca)"},{"1":"35503081499","2":"Favela Buracão"},{"1":"35503081682","2":"Favela Conjunto Parque Novo Mundo - Vila Maria"},{"1":"35503080052","2":"Favela da Linha"},{"1":"35503080736","2":"Favela da Paz"},{"1":"35503080950","2":"Favela do Gelo"},{"1":"35503081071","2":"Favela do Palanque"},{"1":"35503080148","2":"Favela do Pó"},{"1":"35503081500","2":"Favela do Tamanduatei"},{"1":"35503081681","2":"Favela dos Anjos"},{"1":"35503081115","2":"Favelinha Jardim Jaraguá"},{"1":"35503082107","2":"Fazenda Oratório / da Juta"},{"1":"35503080810","2":"Fazenda da Juta / Fazenda da Juta IV"},{"1":"35503081739","2":"Fazenda da Juta III"},{"1":"35503082062","2":"Fazenda da Juta V"},{"1":"35503081127","2":"Fazendinha I P"},{"1":"35503081763","2":"Felix Escobar"},{"1":"35503081074","2":"Felix Flamengo"},{"1":"35503082126","2":"Fernão Dias"},{"1":"35503080470","2":"Ferreira Viana"},{"1":"35503081054","2":"Figueira da Polinésia"},{"1":"35503081761","2":"Flores Tropicais"},{"1":"35503081357","2":"Fragata da Constituição"},{"1":"35503080994","2":"Francisco / Minas Gás II"},{"1":"35503080758","2":"Francisco Alvarenga"},{"1":"35503080064","2":"Francisco Alves Bezerra II"},{"1":"35503082138","2":"Francisco Bitancourt"},{"1":"35503080965","2":"Francisco Capara"},{"1":"35503080931","2":"Francisco Eugênio do Amaral"},{"1":"35503081326","2":"Francisco Lacerda e Almeida"},{"1":"35503081641","2":"Francisco Machado da Silva"},{"1":"35503080674","2":"Francisco Munhoz Filho"},{"1":"35503081248","2":"Francisco Sanches Dias"},{"1":"35503082140","2":"Francisco Soutomaior"},{"1":"35503080743","2":"Francisco Álvares"},{"1":"35503081867","2":"Frei Amador Anais / Arlinda Ramos Roleira"},{"1":"35503081650","2":"Fructuoso Vianna"},{"1":"35503081724","2":"Fruta Pão"},{"1":"35503080371","2":"Fulfaro"},{"1":"35503080344","2":"Fumaça / Neblina / Leblon"},{"1":"35503080080","2":"Funaps Multirão"},{"1":"35503080119","2":"Funerária"},{"1":"35503081869","2":"Furnas"},{"1":"35503080766","2":"Futuro Melhor"},{"1":"35503081250","2":"Fábio Luz"},{"1":"35503081741","2":"Gabi I"},{"1":"35503080721","2":"Gabriela Mistral"},{"1":"35503081434","2":"Galinha D'Água"},{"1":"35503081539","2":"Gaspar Madeira - São Francisco Global"},{"1":"35503080693","2":"Gato Preto I e II"},{"1":"35503081058","2":"Gentil Fabriano"},{"1":"35503081401","2":"George Bernanos"},{"1":"35503081145","2":"Gervásio Botelho"},{"1":"35503080961","2":"Gianetti"},{"1":"35503080899","2":"Gilberto Chaves"},{"1":"35503081729","2":"Gleba do Pêssego"},{"1":"35503080992","2":"Goita"},{"1":"35503082210","2":"Goiti"},{"1":"35503082050","2":"Gregório Bezerra"},{"1":"35503080987","2":"Gregório Pomar"},{"1":"35503080144","2":"Gruta das Princesas"},{"1":"35503081402","2":"Guaicuri I"},{"1":"35503080817","2":"Guaicuri II / Pedra Sobre Pedra"},{"1":"35503081285","2":"Guanabara"},{"1":"35503081383","2":"Guapira I / Planalto da Torres"},{"1":"35503081157","2":"Guapira II"},{"1":"35503081654","2":"Guaratu"},{"1":"35503080073","2":"Guariroba"},{"1":"35503080318","2":"Guerreiro"},{"1":"35503081132","2":"Guian Corruiras"},{"1":"35503081153","2":"Guilherme Bude"},{"1":"35503081872","2":"Guiomar Branco da Silva"},{"1":"35503080996","2":"Gêmeos"},{"1":"35503080029","2":"Haia do Carrão"},{"1":"35503081403","2":"Haidée"},{"1":"35503082127","2":"Helder Guimarães"},{"1":"35503080012","2":"Heliópolis"},{"1":"35503080271","2":"Henrique Mindlin"},{"1":"35503080468","2":"Horto do Ipê"},{"1":"35503080392","2":"Hugo Ítalo Merigo"},{"1":"35503080878","2":"Humaitá I e II"},{"1":"35503081046","2":"Iguatemi"},{"1":"35503081875","2":"Iguatemi A/B"},{"1":"35503080199","2":"Iguaçu"},{"1":"35503080184","2":"Ilha das Cobras"},{"1":"35503080760","2":"Imigrantes"},{"1":"35503080267","2":"Imperatriz Dona Amélia"},{"1":"35503080377","2":"Imprensa Colonos"},{"1":"35503080759","2":"Imprensa Nilópólis"},{"1":"35503080500","2":"Império I"},{"1":"35503080820","2":"Império II"},{"1":"35503080054","2":"Inajar de Souza I"},{"1":"35503080505","2":"Ingaí"},{"1":"35503081023","2":"Integrada"},{"1":"35503081506","2":"Intercontinental"},{"1":"35503081876","2":"Invasão Parque Colorado"},{"1":"35503081717","2":"Inácio Monteiro"},{"1":"35503081280","2":"Ipojuca Lins de Araujo"},{"1":"35503081507","2":"Ipê"},{"1":"35503081651","2":"Itabira Pedra Branca"},{"1":"35503081140","2":"Itacolomi"},{"1":"35503081345","2":"Itajuibe"},{"1":"35503080597","2":"Itapiocaba"},{"1":"35503081879","2":"Itaquera B"},{"1":"35503081878","2":"Itápolis"},{"1":"35503080664","2":"Jacaraípe"},{"1":"35503081683","2":"Jacinto Palhares"},{"1":"35503080999","2":"Jacupeval"},{"1":"35503081603","2":"Jaguará B"},{"1":"35503080105","2":"Jahu Cangaíba"},{"1":"35503081264","2":"Jamil Sawaya I"},{"1":"35503082055","2":"Japaranduba / Arapiraca"},{"1":"35503080017","2":"Japiaçu"},{"1":"35503081253","2":"Jararaú II"},{"1":"35503080309","2":"Jardim Adutora"},{"1":"35503080648","2":"Jardim Alexandrina / Jardim Gustavo"},{"1":"35503080691","2":"Jardim Almanara"},{"1":"35503081628","2":"Jardim Almeida Prado"},{"1":"35503080448","2":"Jardim Alpino"},{"1":"35503080458","2":"Jardim Alpino II"},{"1":"35503082193","2":"Jardim Alto Alegre"},{"1":"35503081509","2":"Jardim Alto da Riviera IX"},{"1":"35503081356","2":"Jardim Alvina"},{"1":"35503081638","2":"Jardim Alvorada"},{"1":"35503081088","2":"Jardim Alzira I e II"},{"1":"35503080601","2":"Jardim Amália"},{"1":"35503080783","2":"Jardim Ana Maria II"},{"1":"35503081011","2":"Jardim Ana Maria III"},{"1":"35503080044","2":"Jardim Andorinha"},{"1":"35503080495","2":"Jardim Angela I"},{"1":"35503081268","2":"Jardim Angela II"},{"1":"35503080486","2":"Jardim Antonieta / Jardim Santo Antônio"},{"1":"35503082073","2":"Jardim Apura"},{"1":"35503082094","2":"Jardim Aracati / Chácara Florida"},{"1":"35503080653","2":"Jardim Aracati I"},{"1":"35503081274","2":"Jardim Aracati II"},{"1":"35503080739","2":"Jardim Arizona"},{"1":"35503080502","2":"Jardim Arnaldo"},{"1":"35503080681","2":"Jardim Aurora / Favela Rendzima"},{"1":"35503080473","2":"Jardim Bandeirante"},{"1":"35503080370","2":"Jardim Beatriz"},{"1":"35503081554","2":"Jardim Boa Sorte"},{"1":"35503082220","2":"Jardim Boa Vista"},{"1":"35503081671","2":"Jardim Boa Vista / Felicidade"},{"1":"35503082047","2":"Jardim Bom Clima"},{"1":"35503081881","2":"Jardim Bonifácio"},{"1":"35503082108","2":"Jardim Buriti"},{"1":"35503080019","2":"Jardim Cachoeira"},{"1":"35503080531","2":"Jardim Caiçara"},{"1":"35503080515","2":"Jardim Calú"},{"1":"35503080454","2":"Jardim Cambará I"},{"1":"35503081575","2":"Jardim Cambará II"},{"1":"35503081398","2":"Jardim Campanário"},{"1":"35503081670","2":"Jardim Campo Limpo"},{"1":"35503080577","2":"Jardim Campo de Fora / Santo Antônio"},{"1":"35503080147","2":"Jardim Campos I"},{"1":"35503080121","2":"Jardim Campos II"},{"1":"35503081885","2":"Jardim Canaã"},{"1":"35503080512","2":"Jardim Capela / Santa Bárbara"},{"1":"35503080442","2":"Jardim Capelinha / Nuno Roland"},{"1":"35503081886","2":"Jardim Carumbe / Lázaro de Barros"},{"1":"35503082179","2":"Jardim Carumbé"},{"1":"35503081887","2":"Jardim Casagrande I / Vila Esperança"},{"1":"35503080584","2":"Jardim Catanduva"},{"1":"35503080821","2":"Jardim Celeste"},{"1":"35503080927","2":"Jardim Celeste II"},{"1":"35503081102","2":"Jardim Cidade Pirituba"},{"1":"35503080880","2":"Jardim Cliper"},{"1":"35503080138","2":"Jardim Clímax"},{"1":"35503080362","2":"Jardim Colombo"},{"1":"35503082134","2":"Jardim Colonial / Sítio Santa Etelvina"},{"1":"35503080418","2":"Jardim Comercial I"},{"1":"35503080422","2":"Jardim Comercial II"},{"1":"35503081572","2":"Jardim Comercial V"},{"1":"35503080852","2":"Jardim Consórcio I e II"},{"1":"35503080241","2":"Jardim Copacabana"},{"1":"35503081668","2":"Jardim Corisco / Rua dos Amigos"},{"1":"35503080009","2":"Jardim Cotinha"},{"1":"35503082119","2":"Jardim Damasceno"},{"1":"35503080388","2":"Jardim Dionízio"},{"1":"35503081511","2":"Jardim Divino"},{"1":"35503080412","2":"Jardim Dulce"},{"1":"35503080457","2":"Jardim D´Abril I"},{"1":"35503080387","2":"Jardim D´Abril II"},{"1":"35503081512","2":"Jardim Educandário I"},{"1":"35503082115","2":"Jardim Edy"},{"1":"35503080298","2":"Jardim Elba"},{"1":"35503081059","2":"Jardim Elian"},{"1":"35503081233","2":"Jardim Eliana I"},{"1":"35503080036","2":"Jardim Eliane"},{"1":"35503082212","2":"Jardim Elizabeth"},{"1":"35503080851","2":"Jardim Ernestina"},{"1":"35503081427","2":"Jardim Esmeralda"},{"1":"35503080694","2":"Jardim Eucaliptos"},{"1":"35503080587","2":"Jardim Evana"},{"1":"35503081009","2":"Jardim Faria Lima"},{"1":"35503080828","2":"Jardim Felicidade / Jova Rura"},{"1":"35503082170","2":"Jardim Filhos da Terra"},{"1":"35503080543","2":"Jardim Fim de Semana"},{"1":"35503081301","2":"Jardim Fim de Semana III"},{"1":"35503080621","2":"Jardim Floresta"},{"1":"35503081893","2":"Jardim Fontalis"},{"1":"35503081208","2":"Jardim Fontes"},{"1":"35503082092","2":"Jardim Fraternidade II"},{"1":"35503080657","2":"Jardim Fujihara I. II, III e Jardim Nakamura II"},{"1":"35503081328","2":"Jardim Germânia - Jardim Campo de Fora"},{"1":"35503081743","2":"Jardim Glória"},{"1":"35503080569","2":"Jardim Gouveia"},{"1":"35503080604","2":"Jardim Guacuri"},{"1":"35503080688","2":"Jardim Guarani / Boa Esperança"},{"1":"35503080277","2":"Jardim Guarani II"},{"1":"35503081229","2":"Jardim Hasano II"},{"1":"35503082213","2":"Jardim Helga"},{"1":"35503080363","2":"Jardim Herculano"},{"1":"35503081894","2":"Jardim Herplin"},{"1":"35503080891","2":"Jardim Horizonte Azul / Sapato Branco"},{"1":"35503080747","2":"Jardim Ibirapuera"},{"1":"35503080266","2":"Jardim Icaraí (Brasilândia)"},{"1":"35503080485","2":"Jardim Icaraí I"},{"1":"35503081237","2":"Jardim Icaraí II e III"},{"1":"35503081400","2":"Jardim Ideal"},{"1":"35503081513","2":"Jardim Ideal II"},{"1":"35503080959","2":"Jardim Ieda"},{"1":"35503080075","2":"Jardim Imbuias"},{"1":"35503080436","2":"Jardim Imbuias I"},{"1":"35503080622","2":"Jardim Imbuias II"},{"1":"35503080410","2":"Jardim Imbé II"},{"1":"35503082155","2":"Jardim Imperial"},{"1":"35503080802","2":"Jardim Independência"},{"1":"35503081213","2":"Jardim Ipanema"},{"1":"35503080376","2":"Jardim Iporanga / Esmeralda"},{"1":"35503081433","2":"Jardim Iracema"},{"1":"35503080426","2":"Jardim Irene I"},{"1":"35503080603","2":"Jardim Irene II"},{"1":"35503082084","2":"Jardim Irene III"},{"1":"35503080644","2":"Jardim Itajaí"},{"1":"35503080545","2":"Jardim Itapura II"},{"1":"35503080546","2":"Jardim Itapura III"},{"1":"35503080356","2":"Jardim Itapurá I"},{"1":"35503080533","2":"Jardim Jangadeiro"},{"1":"35503080240","2":"Jardim Jaqueline"},{"1":"35503080607","2":"Jardim Jaragua"},{"1":"35503081116","2":"Jardim Jaraguá I"},{"1":"35503081121","2":"Jardim Jaraguá II"},{"1":"35503081149","2":"Jardim Jaçanã"},{"1":"35503080590","2":"Jardim Jismar"},{"1":"35503082067","2":"Jardim Laranjeiras II"},{"1":"35503080120","2":"Jardim Leila / Parque Japão"},{"1":"35503080102","2":"Jardim Letícia"},{"1":"35503080390","2":"Jardim Leônidas Moreira"},{"1":"35503081300","2":"Jardim Lilia"},{"1":"35503081291","2":"Jardim Luso"},{"1":"35503081100","2":"Jardim Líbano"},{"1":"35503081346","2":"Jardim Mabel"},{"1":"35503082035","2":"Jardim Macedônia"},{"1":"35503080430","2":"Jardim Magdalena"},{"1":"35503081107","2":"Jardim Maggi"},{"1":"35503080311","2":"Jardim Maia I"},{"1":"35503081343","2":"Jardim Manacás"},{"1":"35503080676","2":"Jardim Marabá / Freguesia de Polares"},{"1":"35503080825","2":"Jardim Marabá II"},{"1":"35503080519","2":"Jardim Maracanã"},{"1":"35503080589","2":"Jardim Marcelo / Campo Ferreira II/ Jardim Marcelo II"},{"1":"35503080086","2":"Jardim Maria Estela"},{"1":"35503081399","2":"Jardim Maria Luiza"},{"1":"35503080384","2":"Jardim Maria Sampaio I"},{"1":"35503080599","2":"Jardim Maria Sampaio II"},{"1":"35503080179","2":"Jardim Maria Terezinha"},{"1":"35503082169","2":"Jardim Marilda"},{"1":"35503081171","2":"Jardim Maristela"},{"1":"35503080861","2":"Jardim Marpu / Fonte"},{"1":"35503081286","2":"Jardim Martini"},{"1":"35503081303","2":"Jardim Mazza I"},{"1":"35503081294","2":"Jardim Mazza II"},{"1":"35503080069","2":"Jardim Miliunas"},{"1":"35503080594","2":"Jardim Mitsutani"},{"1":"35503080024","2":"Jardim Monte Alegre"},{"1":"35503080651","2":"Jardim Monte Alegre I"},{"1":"35503081242","2":"Jardim Monte Alegre II"},{"1":"35503080060","2":"Jardim Monte Azul"},{"1":"35503080857","2":"Jardim Monte Líbano"},{"1":"35503082129","2":"Jardim Morais Prado"},{"1":"35503080467","2":"Jardim Morais Prado I"},{"1":"35503081228","2":"Jardim Morais Prado II"},{"1":"35503080654","2":"Jardim Nakamura I"},{"1":"35503080695","2":"Jardim Nardini I e II"},{"1":"35503081897","2":"Jardim Natal"},{"1":"35503080040","2":"Jardim Nazareth"},{"1":"35503081516","2":"Jardim Nazaré I / Jardim Reni"},{"1":"35503080650","2":"Jardim Noronha I. II e III"},{"1":"35503081106","2":"Jardim Nossa Senhora Aparecida"},{"1":"35503082044","2":"Jardim Nossa Senhora Aparecida II"},{"1":"35503081771","2":"Jardim Nova America II"},{"1":"35503081898","2":"Jardim Nova Conquista"},{"1":"35503081076","2":"Jardim Nova Harmonia"},{"1":"35503080550","2":"Jardim Nova Robru / Favela Pedro Rodrigues"},{"1":"35503081899","2":"Jardim Nova Tereza"},{"1":"35503081900","2":"Jardim Nova Vitória"},{"1":"35503082041","2":"Jardim Novo Copacabana - Tuparoquera"},{"1":"35503081910","2":"Jardim Novo Lar"},{"1":"35503080585","2":"Jardim Novo Oriente I"},{"1":"35503081202","2":"Jardim Novo Parelheiros"},{"1":"35503080649","2":"Jardim Novo Santo Amaro I"},{"1":"35503081767","2":"Jardim Novo Varginha"},{"1":"35503080096","2":"Jardim Nélia"},{"1":"35503080581","2":"Jardim Olinda"},{"1":"35503080582","2":"Jardim Olinda II"},{"1":"35503081414","2":"Jardim Olinda III"},{"1":"35503080876","2":"Jardim Olinda IV"},{"1":"35503080618","2":"Jardim Orion"},{"1":"35503080763","2":"Jardim Orion / Jardim Império"},{"1":"35503080534","2":"Jardim Orly II"},{"1":"35503082195","2":"Jardim Palanque"},{"1":"35503082122","2":"Jardim Palmares"},{"1":"35503081214","2":"Jardim Panamericano"},{"1":"35503080439","2":"Jardim Panorama"},{"1":"35503081078","2":"Jardim Paraguaçu"},{"1":"35503081317","2":"Jardim Paraná / Bananal Esquerdo"},{"1":"35503080692","2":"Jardim Paulistano"},{"1":"35503081412","2":"Jardim Paulo VI"},{"1":"35503080941","2":"Jardim Paulo VII"},{"1":"35503080135","2":"Jardim Peri / Peri Novo I"},{"1":"35503080231","2":"Jardim Peri Alto"},{"1":"35503080215","2":"Jardim Peri Novo"},{"1":"35503082235","2":"Jardim Pery - Praça Henrique Yuaso"},{"1":"35503080595","2":"Jardim Piracema"},{"1":"35503080583","2":"Jardim Piracuama I e III"},{"1":"35503080191","2":"Jardim Planalto"},{"1":"35503080265","2":"Jardim Planalto / Jardim Santa Maria"},{"1":"35503082180","2":"Jardim Planalto I II e III"},{"1":"35503082124","2":"Jardim Por do Sol I / Joana D'Arc"},{"1":"35503080452","2":"Jardim Pouso Alegre"},{"1":"35503081085","2":"Jardim Primavera II"},{"1":"35503081902","2":"Jardim Primeiro de Maio"},{"1":"35503082132","2":"Jardim Pérola III / Alphonse Joailler"},{"1":"35503080616","2":"Jardim Quarto Centenário"},{"1":"35503081903","2":"Jardim Ramalho"},{"1":"35503081235","2":"Jardim Rebeca"},{"1":"35503080456","2":"Jardim Rebouças"},{"1":"35503081358","2":"Jardim Rincão I"},{"1":"35503080023","2":"Jardim Rincão II"},{"1":"35503081215","2":"Jardim Rincão II / Jardim Alvina II"},{"1":"35503081256","2":"Jardim Rio D'Ouro"},{"1":"35503082148","2":"Jardim Romano"},{"1":"35503081613","2":"Jardim Rosa Maria I e III"},{"1":"35503081022","2":"Jardim Rosana"},{"1":"35503082168","2":"Jardim Santa Cecília"},{"1":"35503081204","2":"Jardim Santa Fé"},{"1":"35503081306","2":"Jardim Santa Josefina"},{"1":"35503081177","2":"Jardim Santa Lúcia"},{"1":"35503082060","2":"Jardim Santa Terezinha"},{"1":"35503081066","2":"Jardim Santa Terezinha II"},{"1":"35503081907","2":"Jardim Santo André / Kaei Kawahira"},{"1":"35503081908","2":"Jardim Santo André / Parque das Flores"},{"1":"35503080503","2":"Jardim Selma II"},{"1":"35503081218","2":"Jardim Shangrilá III"},{"1":"35503081108","2":"Jardim Sidney"},{"1":"35503082139","2":"Jardim Silva"},{"1":"35503081517","2":"Jardim Soares"},{"1":"35503081249","2":"Jardim Solange"},{"1":"35503080099","2":"Jardim Solange II"},{"1":"35503080600","2":"Jardim Soraia"},{"1":"35503080127","2":"Jardim Souza / Jardim Souza II"},{"1":"35503080156","2":"Jardim Sydney II"},{"1":"35503081329","2":"Jardim São Bento Novo"},{"1":"35503080477","2":"Jardim São Bento Velho"},{"1":"35503081243","2":"Jardim São Bernardo I"},{"1":"35503081231","2":"Jardim São Bernardo II"},{"1":"35503080188","2":"Jardim São Carlos"},{"1":"35503081067","2":"Jardim São Carlos / Gleba 2"},{"1":"35503080705","2":"Jardim São Carlos II"},{"1":"35503080314","2":"Jardim São Francisco de Assis"},{"1":"35503080733","2":"Jardim São Gonçalo"},{"1":"35503081601","2":"Jardim São Januário"},{"1":"35503080355","2":"Jardim São Jorge"},{"1":"35503080715","2":"Jardim São Judas Tadeu"},{"1":"35503080658","2":"Jardim São Lourenço"},{"1":"35503081297","2":"Jardim São Luis II"},{"1":"35503082147","2":"Jardim São Luiz 2"},{"1":"35503080474","2":"Jardim São Manoel"},{"1":"35503081911","2":"Jardim São Nicolau"},{"1":"35503082074","2":"Jardim São Paulo I"},{"1":"35503082075","2":"Jardim São Paulo II"},{"1":"35503081225","2":"Jardim São Pedro"},{"1":"35503082181","2":"Jardim São Raimundo / Dom Angélico"},{"1":"35503080303","2":"Jardim São Remo"},{"1":"35503080506","2":"Jardim São Vicente"},{"1":"35503080792","2":"Jardim São Vicente II"},{"1":"35503080520","2":"Jardim Sônia Ingá"},{"1":"35503080700","2":"Jardim Taipas"},{"1":"35503080777","2":"Jardim Tancredo"},{"1":"35503081244","2":"Jardim Toca/ Jardim Progresso"},{"1":"35503080656","2":"Jardim Tomás I"},{"1":"35503082176","2":"Jardim Três Corações"},{"1":"35503080538","2":"Jardim Uberaba"},{"1":"35503081176","2":"Jardim Ubirajara"},{"1":"35503080596","2":"Jardim Umuarama"},{"1":"35503080476","2":"Jardim Universal I"},{"1":"35503081565","2":"Jardim Universal II"},{"1":"35503080748","2":"Jardim Universal III"},{"1":"35503081240","2":"Jardim Varginha I e III / Viela das Adálias"},{"1":"35503081247","2":"Jardim Varginha II"},{"1":"35503080237","2":"Jardim Vera Cruz"},{"1":"35503081562","2":"Jardim Vila Cisper II"},{"1":"35503080937","2":"Jardim Vitória / Jardim Três Poderes"},{"1":"35503081325","2":"Jardim Walquíria I"},{"1":"35503081744","2":"Jardim Walquíria II"},{"1":"35503081147","2":"Jardim Yara"},{"1":"35503081251","2":"Jardim Zaira"},{"1":"35503080026","2":"Jardim da Felicidade"},{"1":"35503081092","2":"Jardim da Paz"},{"1":"35503080672","2":"Jardim das Camélias"},{"1":"35503081890","2":"Jardim das Flores / Taunay"},{"1":"35503080123","2":"Jardim das Laranjeiras"},{"1":"35503081417","2":"Jardim das Palmas"},{"1":"35503081155","2":"Jardim das Pedras"},{"1":"35503080372","2":"Jardim das Rosas"},{"1":"35503082194","2":"Jardim das Rosas - Colônia Japonesa"},{"1":"35503080517","2":"Jardim das Rosas III / Jardim Macedônia"},{"1":"35503080928","2":"Jardim das Vertentes"},{"1":"35503082211","2":"Jardim de Paula"},{"1":"35503081062","2":"Jardim do Lago I"},{"1":"35503081630","2":"Jardim dos Francos I"},{"1":"35503080879","2":"Jardim dos Lagos - Ipanema"},{"1":"35503080849","2":"Jardim dos Prados"},{"1":"35503080993","2":"Jaú"},{"1":"35503082088","2":"Joaquim Leal"},{"1":"35503081065","2":"Joaquim Meira Siqueira"},{"1":"35503081586","2":"Joaquim da Costa Miranda"},{"1":"35503082080","2":"Jonas Barbosa Filho"},{"1":"35503081255","2":"José Alves da Silva"},{"1":"35503081154","2":"José Crispim"},{"1":"35503080791","2":"José Higino Neves"},{"1":"35503081095","2":"José Lopes"},{"1":"35503080892","2":"José Oscar Borba"},{"1":"35503081914","2":"José Pedro de Borba"},{"1":"35503082157","2":"José Roberto Sales"},{"1":"35503081389","2":"José dos Santos Junior"},{"1":"35503081582","2":"João Aires"},{"1":"35503080677","2":"João Antônio Chavier"},{"1":"35503081004","2":"João Batista Malio"},{"1":"35503080870","2":"João Batista Nogueira"},{"1":"35503081057","2":"João Galdino Coelho"},{"1":"35503081296","2":"João Gaspar I"},{"1":"35503080480","2":"João Gaspar II"},{"1":"35503081271","2":"João Manoel Vaz"},{"1":"35503082046","2":"João Paulo I"},{"1":"35503081760","2":"João Peres Calhamares"},{"1":"35503080762","2":"João Veloso"},{"1":"35503080352","2":"João de Cruz e Souza"},{"1":"35503081916","2":"Jules Massenet"},{"1":"35503080841","2":"Juraci Artacho"},{"1":"35503080129","2":"Jurandir"},{"1":"35503080312","2":"Júlio Pinheiro"},{"1":"35503081267","2":"Kagohara II"},{"1":"35503080171","2":"Kagohara III"},{"1":"35503082059","2":"Keralux"},{"1":"35503081105","2":"Lago do Junca"},{"1":"35503080591","2":"Lagoa Real"},{"1":"35503080386","2":"Lagoa da Serra"},{"1":"35503081698","2":"Lavios"},{"1":"35503081707","2":"Leandro Donati"},{"1":"35503080326","2":"Letícia Cini"},{"1":"35503081637","2":"Levanta Saia"},{"1":"35503081689","2":"Libanesa"},{"1":"35503080509","2":"Liberalina"},{"1":"35503080706","2":"Lidiane"},{"1":"35503080395","2":"Light I"},{"1":"35503081558","2":"Limoeiro - MP - 01"},{"1":"35503080180","2":"Liviero"},{"1":"35503081519","2":"Lorenzo Cattani"},{"1":"35503082037","2":"Lote 18"},{"1":"35503081025","2":"Louis Caravaque"},{"1":"35503080682","2":"Lourdes / Núcleo Itaim"},{"1":"35503081416","2":"Lourenço"},{"1":"35503081520","2":"Luar do Sertão I"},{"1":"35503081521","2":"Luar do Sertão III"},{"1":"35503081731","2":"Lucas Vegas"},{"1":"35503082111","2":"Luiza Erundina"},{"1":"35503081002","2":"Luiza Rosa"},{"1":"35503080812","2":"Lupércio de Souza Cortêz"},{"1":"35503080990","2":"Luís Olivieri"},{"1":"35503081060","2":"Machado Nunes / Pimentel Távora"},{"1":"35503080741","2":"Mandiocal I do Parque Regina"},{"1":"35503081775","2":"Mandiocal II do Parque Regina"},{"1":"35503081014","2":"Mandiocal III do Parque Regina"},{"1":"35503081003","2":"Mandrágoras"},{"1":"35503081672","2":"Manguari"},{"1":"35503080803","2":"Mangue"},{"1":"35503081139","2":"Manoel Alves Mesquita"},{"1":"35503080969","2":"Manoel Aquilino dos Santos II"},{"1":"35503081522","2":"Manoel Homem de Andrade I"},{"1":"35503081079","2":"Manoel Quirino de Matos"},{"1":"35503081721","2":"Mansões"},{"1":"35503081165","2":"Manuel Alves Ferreira"},{"1":"35503080925","2":"Manuel Antônio Portella"},{"1":"35503081443","2":"Manuel Melo Freire"},{"1":"35503082150","2":"Manuel Ribas"},{"1":"35503080432","2":"Manuel de Teffe"},{"1":"35503080405","2":"Maranhão I"},{"1":"35503081660","2":"Maratis"},{"1":"35503081205","2":"Marcelo Bernardini"},{"1":"35503081566","2":"Marconi Curuça"},{"1":"35503081922","2":"Marcos Liberi"},{"1":"35503080858","2":"Marginal Dois"},{"1":"35503080186","2":"Maria Cursi"},{"1":"35503080251","2":"Maria Luiza Americano"},{"1":"35503081388","2":"Maria Santana / Sítio da Casa Pintada"},{"1":"35503080805","2":"Maria Teresa Galdino"},{"1":"35503080790","2":"Maria Vera Lombardi Siqueira"},{"1":"35503080742","2":"Maria Virgínia"},{"1":"35503081048","2":"Maria Zilo Augusto / Manuel da Paixão"},{"1":"35503080795","2":"Maria Ângela"},{"1":"35503080780","2":"Mariana Luz de Jesus / Chácara Dourado"},{"1":"35503081113","2":"Marilac"},{"1":"35503081766","2":"Marilda"},{"1":"35503080035","2":"Mario Cardim"},{"1":"35503080339","2":"Martimperere"},{"1":"35503081084","2":"Mata da Juta"},{"1":"35503081193","2":"Maurice Denis"},{"1":"35503080357","2":"Mauro"},{"1":"35503080350","2":"Mauro II"},{"1":"35503081266","2":"Maurício Adler / Jardim Maria Emília / José Aragão"},{"1":"35503080383","2":"Mendes Gaia"},{"1":"35503080098","2":"Mendonça Arraes"},{"1":"35503081730","2":"Menininha Lobo"},{"1":"35503080114","2":"Miguel Ackel"},{"1":"35503080971","2":"Miguel Arcanjo"},{"1":"35503080794","2":"Miguel Inácio Curi I / Favela da Paz"},{"1":"35503081561","2":"Miguel Russiano"},{"1":"35503080301","2":"Mikail"},{"1":"35503080213","2":"Milharal"},{"1":"35503081556","2":"Mimosa"},{"1":"35503080976","2":"Ministro Correia de Castro"},{"1":"35503081632","2":"Ministro Lins de Barros"},{"1":"35503081569","2":"Mirandas I / Francisco Sales"},{"1":"35503080722","2":"Mirandas II"},{"1":"35503080042","2":"Mirangoaba I"},{"1":"35503080005","2":"Mirangoaba II"},{"1":"35503080737","2":"Mirassol do Oeste"},{"1":"35503081404","2":"Missionária V"},{"1":"35503081925","2":"Moacir Padilha"},{"1":"35503080586","2":"Monforte de Lemos"},{"1":"35503081524","2":"Monte Kemel"},{"1":"35503080185","2":"Monte Taó"},{"1":"35503081064","2":"Morada do Sol"},{"1":"35503080940","2":"Morada do Sol II"},{"1":"35503082152","2":"Morada do Verde"},{"1":"35503081634","2":"Morato de Oliveira"},{"1":"35503081119","2":"Morro Doce I"},{"1":"35503081118","2":"Morro Doce II"},{"1":"35503081122","2":"Morro Doce III"},{"1":"35503081117","2":"Morro Doce IV - Faiçal Murad"},{"1":"35503082227","2":"Morro Doce V"},{"1":"35503081928","2":"Morro da Alegria"},{"1":"35503081020","2":"Morro da Lua / Clara Aurora"},{"1":"35503080885","2":"Morro da USP"},{"1":"35503082232","2":"Morro das Pedras"},{"1":"35503081678","2":"Morro do Livramento"},{"1":"35503081077","2":"Morro do Macaco"},{"1":"35503082121","2":"Morro do Piolho"},{"1":"35503080580","2":"Morumbi Sul"},{"1":"35503080381","2":"Morumbizinho"},{"1":"35503081745","2":"Muniz de Souza"},{"1":"35503082105","2":"Mutirão dos Padres"},{"1":"35503080844","2":"Muzambinho"},{"1":"35503080889","2":"Mário Belmonte"},{"1":"35503081269","2":"Nagib I e II"},{"1":"35503080997","2":"Natalino Almeida I"},{"1":"35503080726","2":"Nelson Cruz"},{"1":"35503080479","2":"Nicarágua"},{"1":"35503081746","2":"Niza"},{"1":"35503080143","2":"Norberto Almandoz"},{"1":"35503080281","2":"Nossa Senhora Aparecida"},{"1":"35503082167","2":"Nossa Senhora Aparecida (Parque Cocaia)"},{"1":"35503082137","2":"Nossa Senhora Aparecida / Jardim Aurora"},{"1":"35503080225","2":"Nossa Senhora da Assunção I. II, III"},{"1":"35503080613","2":"Nossa Senhora das Virtudes I e II"},{"1":"35503082054","2":"Nova Apurá II"},{"1":"35503081526","2":"Nova Brasília V"},{"1":"35503081327","2":"Nova Floresta"},{"1":"35503080635","2":"Nova Grajaú I e II"},{"1":"35503081482","2":"Nova Guarapiranga I"},{"1":"35503081483","2":"Nova Guarapiranga II"},{"1":"35503080425","2":"Nova Imigrantes"},{"1":"35503080435","2":"Nova Jaguaré"},{"1":"35503080806","2":"Nova Monsenhor Jerônimo Rodrigues"},{"1":"35503081723","2":"Nova Nardini"},{"1":"35503080034","2":"Nova Tiete"},{"1":"35503080756","2":"Nova V"},{"1":"35503081430","2":"Nova Vitória Guiomar"},{"1":"35503080039","2":"Nove de Julho"},{"1":"35503081934","2":"Novo São Norberto"},{"1":"35503081626","2":"Novo Vila Nascente"},{"1":"35503080801","2":"Núcleo A - São Francisco Global"},{"1":"35503080011","2":"Núcleo B - São Francisco Global"},{"1":"35503082182","2":"Núcleo C - São Francisco Global"},{"1":"35503080800","2":"Núcleo D - São Francisco Global"},{"1":"35503080799","2":"Núcleo E - São Francisco Global"},{"1":"35503081935","2":"Núcleo Engordador"},{"1":"35503081527","2":"Núcleo Particular"},{"1":"35503080764","2":"Núcleo Popular Santos Dias da Silva"},{"1":"35503080037","2":"Ocupação Boa Esperança"},{"1":"35503081577","2":"Ocupação City Jaraguá"},{"1":"35503081551","2":"Ocupação Domínio Jacu-Pêssego"},{"1":"35503081552","2":"Ocupação Hospital Municipal"},{"1":"35503081936","2":"Ocupação Imirim"},{"1":"35503081528","2":"Ocupação Morumbizinho - São Francisco Global"},{"1":"35503081075","2":"Ocupação Promorar / São Francisco Global"},{"1":"35503080020","2":"Odassi Nazzali"},{"1":"35503081016","2":"Olaria"},{"1":"35503082135","2":"Olaria Pedra Branca"},{"1":"35503081529","2":"Oliveira Martins"},{"1":"35503080406","2":"Olímpio Rodrigues de Araújo"},{"1":"35503081173","2":"Orquídeas / Parque Primavera"},{"1":"35503080966","2":"Orvalheira"},{"1":"35503081555","2":"Orvalheira II"},{"1":"35503081056","2":"Pacheco Chaves"},{"1":"35503080979","2":"Padre Achiles Silvestre"},{"1":"35503081937","2":"Padre Leão Peruche"},{"1":"35503080057","2":"Palácio Guanabara"},{"1":"35503080701","2":"Palácio Monroe"},{"1":"35503081164","2":"Pangaua"},{"1":"35503080819","2":"Papa Gregório Magno"},{"1":"35503081094","2":"Papagaios"},{"1":"35503080175","2":"Paquetá I"},{"1":"35503080687","2":"Paquetá II"},{"1":"35503080325","2":"Paraguai"},{"1":"35503081305","2":"Paraguai/Jardim Marilda"},{"1":"35503080492","2":"Paraisópolis"},{"1":"35503081032","2":"Paranapanema I"},{"1":"35503080746","2":"Paranapanema II"},{"1":"35503081308","2":"Paranapanema III"},{"1":"35503082231","2":"Paranapanema IV"},{"1":"35503082214","2":"Paranapanema V"},{"1":"35503081696","2":"Paratinim"},{"1":"35503080382","2":"Parque Aloysio / Parque São Luís"},{"1":"35503080438","2":"Parque Amélia / Santa Margarida"},{"1":"35503081172","2":"Parque Anhanguera / Antônio da Costa Magueta"},{"1":"35503080207","2":"Parque Belém"},{"1":"35503080811","2":"Parque Boa Esperança"},{"1":"35503080561","2":"Parque Boturussu"},{"1":"35503081940","2":"Parque Brasilandia"},{"1":"35503081276","2":"Parque Cavalo Branco"},{"1":"35503081068","2":"Parque Central"},{"1":"35503081337","2":"Parque Cocaia II"},{"1":"35503080907","2":"Parque Cocaia VII"},{"1":"35503082082","2":"Parque Conquista"},{"1":"35503080396","2":"Parque Dorotéia I e II"},{"1":"35503080638","2":"Parque Europa I"},{"1":"35503080399","2":"Parque Europa II"},{"1":"35503082040","2":"Parque Europa III"},{"1":"35503081031","2":"Parque Fernanda I"},{"1":"35503081028","2":"Parque Fernanda II"},{"1":"35503081531","2":"Parque Fernanda III"},{"1":"35503080341","2":"Parque Figueira Grande II"},{"1":"35503081292","2":"Parque Figueira Grande III"},{"1":"35503080118","2":"Parque Figueira Grande IV"},{"1":"35503081293","2":"Parque Figueira Grande V"},{"1":"35503081386","2":"Parque Guarani Mogno"},{"1":"35503080491","2":"Parque Maria Fernanda I e II"},{"1":"35503081259","2":"Parque Novo Santo Amaro I e II"},{"1":"35503081258","2":"Parque Novo Santo Amaro III"},{"1":"35503082228","2":"Parque Novo Santo Amaro V / Luz Soriano"},{"1":"35503081608","2":"Parque Otero II"},{"1":"35503081216","2":"Parque Parada de Taipas / Sítio Pedro Velho"},{"1":"35503080955","2":"Parque Paulistano"},{"1":"35503081168","2":"Parque Pereira"},{"1":"35503081342","2":"Parque Planalto I"},{"1":"35503081341","2":"Parque Planalto II"},{"1":"35503080625","2":"Parque Recanto Cocaia"},{"1":"35503081203","2":"Parque Recreio"},{"1":"35503081532","2":"Parque Residencial Cantareira"},{"1":"35503081339","2":"Parque Residencial Cocaia A"},{"1":"35503081747","2":"Parque Rondon"},{"1":"35503080606","2":"Parque Santa Amélia"},{"1":"35503080328","2":"Parque Santa Madalena I"},{"1":"35503082183","2":"Parque Santa Madalena II"},{"1":"35503080416","2":"Parque Santo Antônio I"},{"1":"35503082196","2":"Parque Santo Antônio II"},{"1":"35503080198","2":"Parque Santo Antônio IV"},{"1":"35503080578","2":"Parque Santo Antônio V"},{"1":"35503081302","2":"Parque Santo Antônio VI"},{"1":"35503081609","2":"Parque Santo Antônio VII"},{"1":"35503081942","2":"Parque Sumaré"},{"1":"35503080718","2":"Parque São Domingos"},{"1":"35503081238","2":"Parque São José I e II"},{"1":"35503080634","2":"Parque São José III. V e Vila Eda"},{"1":"35503080150","2":"Parque São José VI"},{"1":"35503082215","2":"Parque São José VII / Três Cânticos"},{"1":"35503080440","2":"Parque São Paulo"},{"1":"35503081701","2":"Parque São Rafael"},{"1":"35503082201","2":"Parque da Cantareira"},{"1":"35503082093","2":"Parque das Cerejeiras"},{"1":"35503082091","2":"Parque das Cerejeiras II"},{"1":"35503082071","2":"Parque das Flores / Jardim Continental / COHAB"},{"1":"35503081038","2":"Parque do Engenho / Alves de Souza"},{"1":"35503081652","2":"Parque do Gato"},{"1":"35503081190","2":"Passagem II"},{"1":"35503080807","2":"Passagem III"},{"1":"35503080843","2":"Pau Queimado"},{"1":"35503080090","2":"Paulistas"},{"1":"35503081748","2":"Paulo Fontelli"},{"1":"35503080273","2":"Paulo de Souza Ferreira"},{"1":"35503081646","2":"Pavanas"},{"1":"35503080949","2":"Pedra Branca"},{"1":"35503080675","2":"Pedreira I"},{"1":"35503082238","2":"Pedro Alba"},{"1":"35503081008","2":"Pedro Paulo Lagreca Neto"},{"1":"35503080249","2":"Pedro Vaz Rego"},{"1":"35503080088","2":"Peinha"},{"1":"35503081425","2":"Pelourinho"},{"1":"35503081762","2":"Peniel da Paz"},{"1":"35503080272","2":"Peri Alto II"},{"1":"35503080197","2":"Peri Novo II"},{"1":"35503081595","2":"Piemonteses/ Cidade Nova"},{"1":"35503080130","2":"Piolho / Piolho II"},{"1":"35503081112","2":"Piqueri"},{"1":"35503082057","2":"Piratininga"},{"1":"35503081368","2":"Piscinão Aricanduva II"},{"1":"35503080888","2":"Ponta da Praia"},{"1":"35503080316","2":"Ponte da Fonte São Bento"},{"1":"35503081567","2":"Ponto Seguro II"},{"1":"35503081944","2":"Portelinha"},{"1":"35503080460","2":"Porto Seguro"},{"1":"35503082166","2":"Porto Seguro (Vila Campestre)"},{"1":"35503080875","2":"Porto Seguro II"},{"1":"35503080021","2":"Pouso do Capim Grosso"},{"1":"35503081945","2":"Praia"},{"1":"35503080349","2":"Presidente Jordanópolis"},{"1":"35503081534","2":"Professor Correia Brito"},{"1":"35503081973","2":"Professor Hemogenes de Freitas Leitão Filho"},{"1":"35503081195","2":"Projetada"},{"1":"35503081080","2":"Promorar / Oreste Damolin"},{"1":"35503081629","2":"Promorar da Parada"},{"1":"35503080434","2":"Pullman"},{"1":"35503082197","2":"Pullman II"},{"1":"35503082229","2":"Pullman III"},{"1":"35503080980","2":"Quadra de Futebol"},{"1":"35503080300","2":"Quaresma Delgado"},{"1":"35503080022","2":"Quilometro Vinte e Oito"},{"1":"35503080152","2":"Radar"},{"1":"35503081373","2":"Raimundo Pereira de Magalhães"},{"1":"35503080322","2":"Raposo Tavares"},{"1":"35503081017","2":"Raul de Leoni Ramos"},{"1":"35503082098","2":"Recanto Ana Maria"},{"1":"35503081933","2":"Recanto Campo Belo / Aruana"},{"1":"35503081207","2":"Recanto Campo Belo I"},{"1":"35503082116","2":"Recanto Eric"},{"1":"35503080699","2":"Recanto Nova República I e II"},{"1":"35503081580","2":"Recanto Nova República III"},{"1":"35503082068","2":"Recanto Nova República IV"},{"1":"35503081949","2":"Recanto Verde do Sol"},{"1":"35503080085","2":"Recanto da Alegria"},{"1":"35503082130","2":"Recanto da Alegria I e II"},{"1":"35503081146","2":"Recanto da Moeda"},{"1":"35503080015","2":"Recanto das Estrelas"},{"1":"35503081206","2":"Recanto do Campo Belo III"},{"1":"35503082178","2":"Recanto do Céu"},{"1":"35503081093","2":"Recanto do Paraiso / Recanto Dos Humildes I / Cptm Recanto"},{"1":"35503081749","2":"Recanto dos Girassóis / Vila Malvina"},{"1":"35503080697","2":"Recanto dos Humildes"},{"1":"35503081950","2":"Regatas 3"},{"1":"35503080659","2":"Renato Locchi"},{"1":"35503081454","2":"René Fernandes"},{"1":"35503081951","2":"Residencial Costa Branca"},{"1":"35503081952","2":"Ribeirão dos Cochos"},{"1":"35503081070","2":"Rio Claro"},{"1":"35503082090","2":"Riviera Paulista"},{"1":"35503080661","2":"Rocinha"},{"1":"35503080257","2":"Rocinha Paulistana / Beira Rio"},{"1":"35503081536","2":"Rodeio"},{"1":"35503082165","2":"Rodovia Fernão Dias KM 83"},{"1":"35503081379","2":"Roland Berigan"},{"1":"35503080988","2":"Romulo Nald"},{"1":"35503080523","2":"Rossi"},{"1":"35503080867","2":"Rossini Pinto"},{"1":"35503082103","2":"Rua Alexandre Davidenko"},{"1":"35503082085","2":"Rua Ana Moreira dos Santos Mattos"},{"1":"35503081772","2":"Rua Anecy Rocha"},{"1":"35503082225","2":"Rua Antonio Sergio de Matos"},{"1":"35503082081","2":"Rua Antônio Pavão"},{"1":"35503082104","2":"Rua Antônio Rodrigues da Silva Júnior"},{"1":"35503082012","2":"Rua Augustin Luberti"},{"1":"35503082013","2":"Rua Barão Carvalho do Amparo"},{"1":"35503082015","2":"Rua Chubei Takagashi / Gitirana"},{"1":"35503082016","2":"Rua Chuvas de Verão"},{"1":"35503082145","2":"Rua Coaracy"},{"1":"35503082226","2":"Rua Dom Jaime Echevarria"},{"1":"35503082043","2":"Rua Dourada"},{"1":"35503082224","2":"Rua Elza dos Anjos Neves"},{"1":"35503082237","2":"Rua Go Sugaya"},{"1":"35503082025","2":"Rua Guarani"},{"1":"35503081777","2":"Rua Iguaçu"},{"1":"35503082029","2":"Rua Jacob Guilger Reimberg"},{"1":"35503082236","2":"Rua Luís Mateus"},{"1":"35503082141","2":"Rua Manuel Álvares Pimentel"},{"1":"35503082163","2":"Rua Maria Regina Marcondes Pinto"},{"1":"35503082031","2":"Rua Maria Trevisane"},{"1":"35503082242","2":"Rua Mato Grosso"},{"1":"35503082076","2":"Rua Moreira Neto"},{"1":"35503082063","2":"Rua Morro do Frade"},{"1":"35503082123","2":"Rua Natal de Queiroz"},{"1":"35503082233","2":"Rua Pedra Preciosa"},{"1":"35503081959","2":"Rua Professor Cosme Deodato Tadeu"},{"1":"35503082026","2":"Rua Professor Hasegawa"},{"1":"35503082230","2":"Rua Rio Bahia"},{"1":"35503082162","2":"Rua São Cleto"},{"1":"35503081963","2":"Rua Taijacica"},{"1":"35503081964","2":"Rua Tarde de Brisa"},{"1":"35503081750","2":"Rua Wilma Flor"},{"1":"35503082136","2":"Rua Zituo Karasawa"},{"1":"35503081158","2":"Rua do Campo"},{"1":"35503081619","2":"Rua do Mestre"},{"1":"35503082198","2":"Rua do Roseiral"},{"1":"35503081550","2":"Rufino Fernandes Ivivari"},{"1":"35503082142","2":"S.O.S Moradia"},{"1":"35503080752","2":"Safira"},{"1":"35503081537","2":"Sallus"},{"1":"35503081024","2":"Samuel Cooper"},{"1":"35503080781","2":"Samuel Khuri"},{"1":"35503081895","2":"San Germaine"},{"1":"35503080898","2":"Santa Amélia"},{"1":"35503080248","2":"Santa Angela"},{"1":"35503082184","2":"Santa Casa - Área remanescente"},{"1":"35503080041","2":"Santa Davina"},{"1":"35503080936","2":"Santa Etelvina III"},{"1":"35503081409","2":"Santa Fé"},{"1":"35503080646","2":"Santa Fé II"},{"1":"35503081211","2":"Santa Helena"},{"1":"35503081666","2":"Santa Júlia"},{"1":"35503080210","2":"Santa Luzia"},{"1":"35503081361","2":"Santa Lúcia I / Minuetos"},{"1":"35503080268","2":"Santa Lúcia II"},{"1":"35503081260","2":"Santa Margarida I e II"},{"1":"35503081574","2":"Santa Margarida IV. V e VI"},{"1":"35503081111","2":"Santa Mônica"},{"1":"35503081649","2":"Santa Rita"},{"1":"35503080662","2":"Santa Rita I / Amaro Alves do Rosário"},{"1":"35503080424","2":"Santa Rita II"},{"1":"35503081283","2":"Santa Rosa"},{"1":"35503082207","2":"Santa Tereza I"},{"1":"35503081298","2":"Santa Tereza III"},{"1":"35503080518","2":"Santa Terezinha"},{"1":"35503080744","2":"Santa Terezinha / Fepasa / Apiaris"},{"1":"35503081200","2":"Santa Terezinha I"},{"1":"35503081768","2":"Santa Terezinha II"},{"1":"35503081230","2":"Santo Antônio II"},{"1":"35503080995","2":"Santo Antônio do Canindé"},{"1":"35503081538","2":"Santo Eduardo Área 2"},{"1":"35503080717","2":"Santo Elias"},{"1":"35503081133","2":"Santo Estevan"},{"1":"35503081129","2":"Santo Stefano I"},{"1":"35503080472","2":"Sapé"},{"1":"35503081045","2":"Saturnino Pereira"},{"1":"35503081968","2":"Satélite Dioneia"},{"1":"35503080049","2":"Seabra"},{"1":"35503081039","2":"Sebastião Advincola da Cunha"},{"1":"35503080413","2":"Sebastião Afonso"},{"1":"35503080944","2":"Sem Terra"},{"1":"35503082079","2":"Seringais"},{"1":"35503081144","2":"Seringueira"},{"1":"35503080732","2":"Serra Pelada"},{"1":"35503081687","2":"Serra de Botucatu"},{"1":"35503080259","2":"Serrana Fluminense"},{"1":"35503081752","2":"Sertanistas"},{"1":"35503082106","2":"Sertanistas 1"},{"1":"35503080894","2":"Sete Praias I"},{"1":"35503080895","2":"Sete Praias II"},{"1":"35503080896","2":"Sete Praias III"},{"1":"35503080089","2":"Sete de Abril"},{"1":"35503081241","2":"Sete de Setembro II"},{"1":"35503081753","2":"Severino Nunes Costa"},{"1":"35503080095","2":"Sevilha"},{"1":"35503080367","2":"Sinhá"},{"1":"35503080786","2":"Sossego"},{"1":"35503080334","2":"Souza Dantas"},{"1":"35503081653","2":"Souza Ramos / Coronel Luis Alves"},{"1":"35503080059","2":"Sucupira"},{"1":"35503080488","2":"Sucupira II"},{"1":"35503081694","2":"São Carlos Alojamento Ocupação"},{"1":"35503080507","2":"São Francisco"},{"1":"35503080986","2":"São Geraldo Jardel Filho"},{"1":"35503081196","2":"São José"},{"1":"35503082177","2":"São José (Guaianazes)"},{"1":"35503081596","2":"São José / Jardim Pinheiros"},{"1":"35503080567","2":"São José Barroca"},{"1":"35503080317","2":"São José Bruna Galéa"},{"1":"35503080366","2":"São José I"},{"1":"35503082216","2":"São José II"},{"1":"35503081967","2":"São José IV"},{"1":"35503080798","2":"São José Operário"},{"1":"35503082112","2":"São João Batista"},{"1":"35503080525","2":"São João da Boa Vista I"},{"1":"35503082113","2":"São João da Boa Vista II"},{"1":"35503080200","2":"São Pedro"},{"1":"35503081018","2":"São Roque"},{"1":"35503080218","2":"São Saverio"},{"1":"35503081540","2":"São Vicente"},{"1":"35503082101","2":"Símbolo"},{"1":"35503081974","2":"Sítio Arizona / Jd. Vila do Sol"},{"1":"35503081975","2":"Sítio Barrocada"},{"1":"35503081976","2":"Sítio Carioba / Sítio Cascavel"},{"1":"35503081706","2":"Sítio Carraozinho II / Alto Paulistano / Nova Conquista"},{"1":"35503082042","2":"Sítio Coimbra"},{"1":"35503082109","2":"Sítio Eldorado - Invasão da Areia"},{"1":"35503080815","2":"Sítio Eldorado IV"},{"1":"35503080897","2":"Sítio Eldorado V"},{"1":"35503082204","2":"Sítio Formiga"},{"1":"35503081576","2":"Sítio Itaberaba II / J. Silvestre"},{"1":"35503081720","2":"Sítio Paiolzinho / J. Vista Alegre"},{"1":"35503081977","2":"Sítio dos Pereiras / Cond. Jequiritiba"},{"1":"35503080010","2":"Sônia Ribeiro"},{"1":"35503080751","2":"Tabor"},{"1":"35503082070","2":"Taipas"},{"1":"35503080345","2":"Tanque Itápolis"},{"1":"35503080417","2":"Tanquinho"},{"1":"35503081192","2":"Tapuia"},{"1":"35503080673","2":"Taquari"},{"1":"35503081349","2":"Taquaritiba"},{"1":"35503081542","2":"Teixeira"},{"1":"35503081755","2":"Telecentro"},{"1":"35503080921","2":"Teodoro Cocher"},{"1":"35503081627","2":"Teodoro Cocher II"},{"1":"35503081083","2":"Teonilo de Souza"},{"1":"35503080809","2":"Teotônio Vilela"},{"1":"35503081693","2":"Teotônio Vilela Artigas"},{"1":"35503081087","2":"Teotônio Vilela Cohab"},{"1":"35503081981","2":"Terceira divisão"},{"1":"35503080974","2":"Tereza"},{"1":"35503081052","2":"Teólogo John Wesley"},{"1":"35503081262","2":"Thomas Pompeu I"},{"1":"35503081123","2":"Tibiriçá"},{"1":"35503082243","2":"Tijolinhos da Mooca"},{"1":"35503080038","2":"Tijuco Preto II"},{"1":"35503080375","2":"Tintas Wanda I / São Jorge II"},{"1":"35503081684","2":"Tiquatira"},{"1":"35503081983","2":"Tiradentes"},{"1":"35503080972","2":"Tiro ao Pombo"},{"1":"35503080153","2":"Tirso Martins"},{"1":"35503080702","2":"Tolstói e União"},{"1":"35503081210","2":"Tomaz Sandrino"},{"1":"35503080605","2":"Tomás Pompeu II"},{"1":"35503081984","2":"Tomé de Almeida Oliveira"},{"1":"35503080447","2":"Torres de Oliveira"},{"1":"35503081142","2":"Totó"},{"1":"35503082205","2":"Travessa Aldo Ribeiro de Luz"},{"1":"35503082217","2":"Travessa Esperança"},{"1":"35503082066","2":"Travessa Igarapé Primavera"},{"1":"35503082049","2":"Tribo"},{"1":"35503080724","2":"Três Estrelas"},{"1":"35503080284","2":"Três Fronteiras"},{"1":"35503082114","2":"Tufi Mattar"},{"1":"35503081223","2":"Tufik Mereb"},{"1":"35503080869","2":"Ubai"},{"1":"35503080490","2":"Uirapuru I"},{"1":"35503081101","2":"União"},{"1":"35503080727","2":"União da Ferrovia"},{"1":"35503081669","2":"Ushikichi Kamiya"},{"1":"35503081987","2":"Vale Verde ou Monte Verde"},{"1":"35503080313","2":"Vale da Esperança"},{"1":"35503080260","2":"Vale das Virtudes I"},{"1":"35503081573","2":"Vale das Virtudes II"},{"1":"35503081041","2":"Vale das Virtudes III"},{"1":"35503082125","2":"Valparaíso / Brasil Novo"},{"1":"35503081035","2":"Vanguarda"},{"1":"35503081988","2":"Vasconcelos Chaves"},{"1":"35503080336","2":"Vaz de Lima/Santo Dias/ Jadim Lidia"},{"1":"35503080816","2":"Ventura Branco"},{"1":"35503080465","2":"Vera Cruz"},{"1":"35503080166","2":"Vergueirinho / Nova Divinéia"},{"1":"35503080563","2":"Veronia I"},{"1":"35503080076","2":"Veronia II"},{"1":"35503081319","2":"Viela Cinco"},{"1":"35503081544","2":"Viela Sabesp"},{"1":"35503081128","2":"Viela Walter"},{"1":"35503080723","2":"Viela da Paz"},{"1":"35503081348","2":"Vietnã"},{"1":"35503080165","2":"Vila Aimore"},{"1":"35503080235","2":"Vila Albertina I"},{"1":"35503080540","2":"Vila Aparecida"},{"1":"35503080082","2":"Vila Bancária"},{"1":"35503081224","2":"Vila Bayer"},{"1":"35503082151","2":"Vila Beira Alta"},{"1":"35503081270","2":"Vila Bom Jardim I"},{"1":"35503080696","2":"Vila Bonilha"},{"1":"35503080446","2":"Vila Cais"},{"1":"35503081992","2":"Vila Caraguata"},{"1":"35503081704","2":"Vila Carmosina"},{"1":"35503080428","2":"Vila Cheba"},{"1":"35503081051","2":"Vila Cisper Anísio de Abreu"},{"1":"35503082117","2":"Vila Clara"},{"1":"35503080560","2":"Vila Constância"},{"1":"35503080234","2":"Vila Cristina"},{"1":"35503080451","2":"Vila Dalva"},{"1":"35503081336","2":"Vila Dania Mungo Park"},{"1":"35503081086","2":"Vila Feliz"},{"1":"35503080122","2":"Vila Flávia"},{"1":"35503080842","2":"Vila Guaraciaba"},{"1":"35503081042","2":"Vila Hortência / Gleba"},{"1":"35503080871","2":"Vila Independência / Vila União"},{"1":"35503082000","2":"Vila Inglesa"},{"1":"35503080136","2":"Vila Inglesa de Baixo"},{"1":"35503081546","2":"Vila Iolanda - Invasão"},{"1":"35503080338","2":"Vila Jacuí AB"},{"1":"35503080134","2":"Vila Jaraguá"},{"1":"35503080178","2":"Vila Joaniza"},{"1":"35503082218","2":"Vila Liviero"},{"1":"35503081615","2":"Vila Léo"},{"1":"35503082001","2":"Vila Marcelo - Invasão"},{"1":"35503081072","2":"Vila Muna"},{"1":"35503081709","2":"Vila Nanci"},{"1":"35503080731","2":"Vila Nascente"},{"1":"35503082002","2":"Vila Natal"},{"1":"35503080830","2":"Vila Nilo"},{"1":"35503081322","2":"Vila Nova"},{"1":"35503082003","2":"Vila Nova Cidade II - Invasão"},{"1":"35503080905","2":"Vila Nova Esperança"},{"1":"35503082160","2":"Vila Nova Esperança (Jardim Paulistano)"},{"1":"35503082159","2":"Vila Nova Esperança (Vila Jaraguá)"},{"1":"35503081353","2":"Vila Nova Galvão I"},{"1":"35503081198","2":"Vila Nova Galvão II"},{"1":"35503080112","2":"Vila Nova Pirajussara"},{"1":"35503080710","2":"Vila Operária"},{"1":"35503081220","2":"Vila Paulistano I"},{"1":"35503081221","2":"Vila Paulistano II"},{"1":"35503081181","2":"Vila Pedreira"},{"1":"35503080463","2":"Vila Praia"},{"1":"35503080288","2":"Vila Progresso"},{"1":"35503080203","2":"Vila Prudente"},{"1":"35503081352","2":"Vila Queiroz"},{"1":"35503080108","2":"Vila Regina"},{"1":"35503081547","2":"Vila Roseira"},{"1":"35503080504","2":"Vila Rubi"},{"1":"35503080058","2":"Vila Saloá"},{"1":"35503081236","2":"Vila Santa Francisca Cabrini IV"},{"1":"35503081484","2":"Vila Santa Maria"},{"1":"35503080280","2":"Vila Santa Zélia"},{"1":"35503082143","2":"Vila Santana do Agreste"},{"1":"35503081728","2":"Vila Santista"},{"1":"35503082078","2":"Vila Santo Antônio"},{"1":"35503082006","2":"Vila Santo Estevão Reis"},{"1":"35503080983","2":"Vila Souza"},{"1":"35503081120","2":"Vila Sulina"},{"1":"35503081548","2":"Vila São Joaquim / São Luiz / Santa Terezinha"},{"1":"35503080163","2":"Vila São João"},{"1":"35503080238","2":"Vila Xavantes"},{"1":"35503081110","2":"Vila Zatt"},{"1":"35503081152","2":"Vila Zilda"},{"1":"35503081661","2":"Vila da Comunidade"},{"1":"35503082161","2":"Vila da Paz"},{"1":"35503081995","2":"Vila das Belezas"},{"1":"35503081287","2":"Vila das Pratas / Vila das Pratas II"},{"1":"35503081680","2":"Vila do Sapo I"},{"1":"35503081570","2":"Vila do Sapo II"},{"1":"35503081245","2":"Vila do Sol"},{"1":"35503080568","2":"Vilar do Paraiso"},{"1":"35503080804","2":"Vilma Flor"},{"1":"35503080455","2":"Vinte"},{"1":"35503081005","2":"Violão I"},{"1":"35503080182","2":"Violão II"},{"1":"35503080100","2":"Vitoria Regia"},{"1":"35503082009","2":"Vitório Capellaro"},{"1":"35503080902","2":"Viva a Noite"},{"1":"35503081390","2":"Volta Redonda"},{"1":"35503080397","2":"Walter Ferreira"},{"1":"35503080968","2":"Whitaker Machado"},{"1":"35503080808","2":"Willian Kent"},{"1":"35503081676","2":"Willin"},{"1":"35503082010","2":"Xavier de Magalhães"},{"1":"35503081758","2":"Zaki Narchi"},{"1":"35503080860","2":"Zavuvus"},{"1":"35503080833","2":"Zoião"},{"1":"35503080887","2":"Água Podre"},{"1":"35503081310","2":"Área Remanescente Guarani I"},{"1":"35503080689","2":"Área Remanescente Guarani II"},{"1":"35503081097","2":"Árvore de São Tomás"},{"1":"35503080754","2":"Ângelo Cristianini"},{"1":"35503081789","2":"Ângelo Gimenez"},{"1":"35503080770","2":"Índio Peri"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section></section><section id="filter-and-join-census-data" class="level2"><h2 class="anchored" data-anchor-id="filter-and-join-census-data">Filter and Join Census Data</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">census_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">census_population_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">code_muni</span> <span class="op">==</span> <span class="va">.env</span><span class="op">$</span><span class="va">municipality_code</span>,</span>
<span>    <span class="va">code_favela</span> <span class="op">==</span> <span class="va">.env</span><span class="op">$</span><span class="va">favela</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">code_tract</span>, <span class="va">V0001</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>population <span class="op">=</span> <span class="va">V0001</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>code_tract <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">code_tract</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html">collect</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">census_tract_data</span>, by <span class="op">=</span> <span class="st">"code_tract"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>tract_code <span class="op">=</span> <span class="va">code_tract</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">tract_code</span>, <span class="va">population</span>, <span class="va">geom</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">census_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 76</span></span>
<span><span class="co">#&gt; Columns: 3</span></span>
<span><span class="co">#&gt; $ tract_code &lt;dbl&gt; 355030883000009, 355030883000015, 355030883000040, 35503…</span></span>
<span><span class="co">#&gt; $ population &lt;dbl&gt; 881, 788, 827, 646, 465, 1017, 1295, 785, 800, 1259, 171…</span></span>
<span><span class="co">#&gt; $ geom       &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-46.7273518..., MULTIPOLYGO…</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="create-favela-shape" class="level2"><h2 class="anchored" data-anchor-id="create-favela-shape">Create Favela Shape</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">shape</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">census_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_combine.html">st_union</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/valid.html">st_make_valid</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_cast.html">st_cast</a></span><span class="op">(</span><span class="st">"POLYGON"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">nngeo</span><span class="fu">::</span><span class="fu"><a href="https://michaeldorman.github.io/nngeo/reference/st_remove_holes.html">st_remove_holes</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_combine.html">st_union</a></span><span class="op">(</span>is_coverage <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="import-data-1" class="level2"><h2 class="anchored" data-anchor-id="import-data-1">Import Data</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://here.r-lib.org/reference/here.html">here</a></span><span class="op">(</span><span class="va">data_dir</span>, <span class="st">"2025-01.rds"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://readr.tidyverse.org/reference/read_rds.html">read_rds</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="filter-data" class="level2"><h2 class="anchored" data-anchor-id="filter-data">Filter Data</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">municipality_code</span> <span class="op">==</span> <span class="va">.env</span><span class="op">$</span><span class="va">municipality_code</span>,</span>
<span>    <span class="va">geocodebr_precision</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"numero"</span>, <span class="st">"numero_aproximado"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span></span>
<span>    <span class="va">cnpj</span>,</span>
<span>    <span class="va">cnae</span>,</span>
<span>    <span class="va">longitude</span>,</span>
<span>    <span class="va">latitude</span>,</span>
<span>    <span class="va">locais_nova_g0</span>,</span>
<span>    <span class="va">locais_nova_g1_g2</span>,</span>
<span>    <span class="va">locais_nova_g3</span>,</span>
<span>    <span class="va">locais_nova_g4</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="transform-data" class="level2"><h2 class="anchored" data-anchor-id="transform-data">Transform Data</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"longitude"</span>, <span class="st">"latitude"</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="va">shape</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"locais_nova_"</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"group"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"value"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">value</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    group <span class="op">=</span></span>
<span>      <span class="va">group</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html">str_remove</a></span><span class="op">(</span><span class="st">"locais_nova_"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html">str_to_upper</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span><span class="op">(</span><span class="st">"_"</span>, <span class="st">"-"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_join.html">st_join</a></span><span class="op">(</span><span class="va">shape</span>, join <span class="op">=</span> <span class="va">st_within</span>, left <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">cnpj</span>, <span class="va">cnae</span>, <span class="va">group</span>, <span class="va">geometry</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="explore-the-data" class="level2"><h2 class="anchored" data-anchor-id="explore-the-data">Explore the Data</h2>
<section id="glimpse-data" class="level3"><h3 class="anchored" data-anchor-id="glimpse-data">Glimpse Data</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 853</span></span>
<span><span class="co">#&gt; Columns: 4</span></span>
<span><span class="co">#&gt; $ cnpj     &lt;chr&gt; "53.292.307/0001-70", "53.292.307/0001-70", "40.420.883/00…</span></span>
<span><span class="co">#&gt; $ cnae     &lt;chr&gt; "4711-3/02", "4711-3/02", "4712-1/00", "4712-1/00", "4712-…</span></span>
<span><span class="co">#&gt; $ group    &lt;chr&gt; "G1-G2", "G4", "G4", "G4", "G4", "G4", "G4", "G4", "G4", "…</span></span>
<span><span class="co">#&gt; $ geometry &lt;POINT [°]&gt; POINT (-46.72797394 -23.615..., POINT (-46.72797394 …</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="show-favela-on-leaflet" class="level3"><h3 class="anchored" data-anchor-id="show-favela-on-leaflet">Show Favela on Leaflet</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">shape_centroid</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">shape</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html">st_centroid</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html">leaflet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-methods.html">setView</a></span><span class="op">(</span></span>
<span>    lng <span class="op">=</span> <span class="va">shape_centroid</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>    lat <span class="op">=</span> <span class="va">shape_centroid</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>    zoom <span class="op">=</span> <span class="fl">15</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html">addPolygons</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">shape</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="st">"WGS84"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    fillColor <span class="op">=</span> <span class="st">"transparent"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"blue"</span>,</span>
<span>    weight <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    opacity <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-8ccba399c016fdba09cc" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-8ccba399c016fdba09cc">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addPolygons","args":[[[[{"lng":[-46.72536599999999,-46.72532609999999,-46.72537279999999,-46.7251911,-46.72518700000001,-46.7244701,-46.7244797,-46.7238693,-46.7239295,-46.72414269999999,-46.7231833,-46.72243219999999,-46.7222877,-46.72269430000001,-46.7228007,-46.7225315,-46.72091520000001,-46.7209859,-46.7209599,-46.72008739999999,-46.7209547,-46.7209133,-46.720567,-46.7197099,-46.719522,-46.71957450000001,-46.71960000000001,-46.719702,-46.71971499999999,-46.72094,-46.7213051,-46.720122,-46.719708,-46.719698,-46.72053,-46.7205489,-46.72063620000001,-46.7211207,-46.72141759999999,-46.72126120000001,-46.72167940000001,-46.72141400000001,-46.721426,-46.72189299999999,-46.72214899999999,-46.723074,-46.723851,-46.72430259999999,-46.725888,-46.7260403,-46.7267423,-46.726688,-46.726631,-46.72748319999999,-46.727554,-46.727769,-46.72809300000002,-46.7286284,-46.7287358,-46.72890839999999,-46.7289667,-46.7293987,-46.7294403,-46.729859,-46.72982249999999,-46.72975269999999,-46.7297146,-46.7303041,-46.73035770000001,-46.73040779999999,-46.7308956,-46.730151,-46.7302617,-46.730282,-46.73093679999999,-46.7311412,-46.7314799,-46.7310695,-46.7313479,-46.7316492,-46.731673,-46.7313134,-46.7304926,-46.7299514,-46.7293005,-46.7289958,-46.72859479999999,-46.72785210000001,-46.7277134,-46.7276197,-46.7276174,-46.7267592,-46.7266278,-46.72645379999999,-46.726491,-46.7256888,-46.7254107,-46.7252713,-46.7251055,-46.72535039999999,-46.7253827,-46.72536599999999],"lat":[-23.6187523,-23.6183277,-23.6196292,-23.61963249999999,-23.6190563,-23.61894770000001,-23.6195754,-23.6192149,-23.6187761,-23.61793049999999,-23.61799890000001,-23.6180883,-23.6171245,-23.6170705,-23.6170518,-23.6170848,-23.6171473,-23.616157,-23.61646540000001,-23.6164699,-23.6165264,-23.6168861,-23.6171375,-23.6172016,-23.61702,-23.6168083,-23.616712,-23.61626899999999,-23.615307,-23.615177,-23.6151388,-23.615261,-23.615271,-23.613858,-23.61406,-23.6141826,-23.61406089999999,-23.6138145,-23.6146172,-23.6141598,-23.614113,-23.61414,-23.61378000000001,-23.612701,-23.61204,-23.611966,-23.611894,-23.6118477,-23.611686,-23.61268249999999,-23.6125913,-23.612597,-23.6121211,-23.61203200000001,-23.6125042,-23.61248189999999,-23.612445,-23.61241380000001,-23.61339800000001,-23.6133822,-23.6138807,-23.6138603,-23.6143283,-23.6142721,-23.6142755,-23.6138294,-23.6136026,-23.6135501,-23.6142264,-23.615142,-23.61543189999999,-23.616576,-23.6172003,-23.6172406,-23.6170854,-23.61763200000001,-23.6181716,-23.618404,-23.61884019999999,-23.61880870000001,-23.619666,-23.6199552,-23.6201245,-23.6203029,-23.6207783,-23.6205187,-23.620522,-23.6202803,-23.6206627,-23.6204676,-23.620508,-23.6207146,-23.6214569,-23.6212282,-23.6210175,-23.621447,-23.6211947,-23.6213577,-23.6212309,-23.6205589,-23.6197245,-23.6187523]}],[{"lng":[-46.7281753,-46.7284429,-46.7289567,-46.728621,-46.7282865,-46.7281075,-46.7281753],"lat":[-23.6210766,-23.6204852,-23.6210192,-23.6213467,-23.62132069999999,-23.6211796,-23.6210766]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":2,"opacity":1,"fill":true,"fillColor":"transparent","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"setView":[[-23.61622920798041,-46.72593480946711],15,[]],"limits":{"lat":[-23.6214569,-23.611686],"lng":[-46.731673,-46.719522]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="plot-establishments" class="level3"><h3 class="anchored" data-anchor-id="plot-establishments">Plot Establishments</h3>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This plot illustrates the distribution of food establishments categorized by Locais-Nova scale groups <span class="citation" data-cites="silva2025">(<a href="#ref-silva2025" role="doc-biblioref">Silva et al., 2025</a>)</span>. Note that an establishment may belong to multiple groups.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">shape</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"gray90"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"black"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">data</span>,</span>
<span>    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">group</span><span class="op">)</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">0.01</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">group</span>, ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">coord_sf</a></span><span class="op">(</span>crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://danielvartan.github.io/brandr/reference/scale_brand.html">scale_color_brand_d</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="cn">NULL</span>, breaks <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="cn">NULL</span>, breaks <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    color <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-36-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="index_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="864"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="plot-tract-population" class="level3"><h3 class="anchored" data-anchor-id="plot-tract-population">Plot Tract Population</h3>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This plot illustrates the population distribution across census tracts within the selected favela.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">shape</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"gray90"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"black"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">census_data</span>,</span>
<span>    mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">population</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="cn">NA</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_c</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"plasma"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">coord_sf</a></span><span class="op">(</span>crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"Population"</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/unnamed-chunk-37-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="index_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</section></section><section id="compute-maximal-coverage-location-allocation-with-restaurants" class="level2"><h2 class="anchored" data-anchor-id="compute-maximal-coverage-location-allocation-with-restaurants">Compute Maximal Coverage Location-Allocation (With Restaurants)</h2>
<div class="callout callout-style-simple callout-warning">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The Locais-Nova scale add <em>restaurants</em> (<a href="https://www.ibge.gov.br/en/statistics/technical-documents/statistical-lists-and-classifications/17245-national-classification-of-economic-activities.html?=&amp;t=o-que-e">CNAE</a> 5611-2/01) as potential establishments for fresh and/or healthy food access. But not all restaurants offer such options (e.g., burger joints, pizza places, etc.). Therefore, results should be interpreted with caution.</p>
</div>
</div>
</div>
<section id="filter-locais-nova-group" class="level3"><h3 class="anchored" data-anchor-id="filter-locais-nova-group">Filter Locais-Nova Group</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">allocation_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">group</span> <span class="op">==</span> <span class="st">"G0"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="st">"WGS84"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="check-allocation-data" class="level3"><h3 class="anchored" data-anchor-id="check-allocation-data">Check Allocation Data</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">unique_cnaes</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">allocation_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">cnae</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cnae_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">cnae</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu">magrittr</span><span class="fu">::</span><span class="fu"><a href="https://magrittr.tidyverse.org/reference/aliases.html">is_in</a></span><span class="op">(</span></span>
<span>        <span class="va">unique_cnaes</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html">str_extract_all</a></span><span class="op">(</span><span class="st">"\\d"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">paste</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cnae"],"name":[1],"type":["chr"],"align":["left"]},{"label":["description"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"4722901","2":"Comércio varejista de carnes - açougues"},{"1":"4722902","2":"Peixaria"},{"1":"4724500","2":"Comércio varejista de hortifrutigranjeiros"},{"1":"5611201","2":"Restaurantes e similares"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">allocation_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 189</span></span>
<span><span class="co">#&gt; Columns: 4</span></span>
<span><span class="co">#&gt; $ cnpj     &lt;chr&gt; "24.650.407/0001-22", "54.624.979/0001-06", "04.047.609/00…</span></span>
<span><span class="co">#&gt; $ cnae     &lt;chr&gt; "4722-9/01", "4722-9/01", "4722-9/01", "4722-9/01", "4722-…</span></span>
<span><span class="co">#&gt; $ group    &lt;chr&gt; "G0", "G0", "G0", "G0", "G0", "G0", "G0", "G0", "G0", "G0"…</span></span>
<span><span class="co">#&gt; $ geometry &lt;POINT [°]&gt; POINT (-46.72633289 -23.615..., POINT (-46.72856681 …</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">allocation_data</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["cnpj"],"name":[1],"type":["chr"],"align":["left"]},{"label":["cnae"],"name":[2],"type":["chr"],"align":["left"]},{"label":["group"],"name":[3],"type":["chr"],"align":["left"]},{"label":["geometry"],"name":[4],"type":["sf_POINT"],"align":["right"]}],"data":[{"1":"24.650.407/0001-22","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"1"},{"1":"54.624.979/0001-06","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"2"},{"1":"04.047.609/0001-77","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"3"},{"1":"24.147.511/0001-07","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"4"},{"1":"49.592.661/0001-42","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"5"},{"1":"96.167.382/0001-11","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"6"},{"1":"49.184.221/0001-56","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"7"},{"1":"36.316.473/0001-40","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"8"},{"1":"54.185.302/0001-00","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"9"},{"1":"22.552.704/0001-00","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"10"},{"1":"54.300.861/0001-14","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"11"},{"1":"57.885.326/0001-60","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"12"},{"1":"08.642.875/0001-07","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"13"},{"1":"26.423.736/0001-66","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"14"},{"1":"40.184.553/0001-66","2":"4722-9/02","3":"G0","4":"<sf_POINT>","_rn_":"15"},{"1":"47.346.055/0001-11","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"16"},{"1":"50.145.883/0001-04","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"17"},{"1":"55.848.211/0001-70","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"18"},{"1":"53.879.660/0001-50","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"19"},{"1":"54.005.936/0001-34","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"20"},{"1":"55.225.006/0001-59","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"21"},{"1":"37.090.973/0001-79","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"22"},{"1":"51.347.556/0001-90","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"23"},{"1":"41.611.915/0001-10","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"24"},{"1":"52.860.656/0001-88","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"25"},{"1":"19.055.605/0001-08","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"26"},{"1":"19.147.888/0001-18","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"27"},{"1":"54.749.397/0001-48","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"28"},{"1":"55.119.297/0001-09","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"29"},{"1":"34.979.627/0001-58","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"30"},{"1":"42.195.058/0001-88","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"31"},{"1":"57.472.229/0001-46","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"32"},{"1":"35.371.620/0001-11","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"33"},{"1":"39.616.061/0001-13","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"34"},{"1":"55.625.201/0001-76","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"35"},{"1":"58.237.309/0001-80","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"36"},{"1":"26.669.307/0001-73","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"37"},{"1":"36.488.103/0001-90","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"38"},{"1":"58.734.756/0001-44","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"39"},{"1":"25.200.677/0001-02","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"40"},{"1":"37.077.402/0001-02","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"41"},{"1":"52.972.541/0001-85","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"42"},{"1":"38.347.345/0001-99","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"43"},{"1":"40.117.911/0001-18","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"44"},{"1":"41.007.021/0001-16","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"45"},{"1":"43.067.830/0001-49","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"46"},{"1":"32.299.456/0001-90","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"47"},{"1":"44.659.465/0001-24","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"48"},{"1":"48.029.676/0001-34","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"49"},{"1":"49.271.715/0001-78","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"50"},{"1":"49.367.878/0001-59","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"51"},{"1":"49.509.766/0001-95","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"52"},{"1":"50.520.056/0001-45","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"53"},{"1":"51.299.235/0001-67","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"54"},{"1":"52.854.895/0001-25","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"55"},{"1":"54.601.421/0001-05","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"56"},{"1":"54.664.854/0001-00","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"57"},{"1":"33.522.227/0001-56","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"58"},{"1":"36.535.903/0001-14","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"59"},{"1":"37.745.337/0001-38","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"60"},{"1":"39.763.336/0001-41","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"61"},{"1":"45.791.614/0001-77","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"62"},{"1":"47.720.088/0001-80","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"63"},{"1":"50.746.563/0001-00","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"64"},{"1":"51.437.577/0001-04","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"65"},{"1":"51.816.137/0001-50","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"66"},{"1":"54.876.302/0001-57","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"67"},{"1":"54.997.880/0001-41","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"68"},{"1":"11.896.048/0001-46","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"69"},{"1":"28.958.755/0001-12","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"70"},{"1":"31.388.658/0001-46","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"71"},{"1":"34.174.536/0001-45","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"72"},{"1":"40.423.938/0001-39","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"73"},{"1":"42.337.357/0001-00","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"74"},{"1":"31.035.950/0001-85","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"75"},{"1":"44.845.976/0001-30","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"76"},{"1":"46.894.136/0001-93","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"77"},{"1":"49.474.765/0001-52","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"78"},{"1":"51.101.593/0001-13","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"79"},{"1":"53.080.076/0001-30","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"80"},{"1":"53.624.120/0001-26","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"81"},{"1":"53.916.444/0001-38","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"82"},{"1":"54.785.496/0001-85","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"83"},{"1":"55.539.772/0001-98","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"84"},{"1":"58.081.565/0001-20","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"85"},{"1":"27.993.890/0001-36","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"86"},{"1":"30.311.662/0001-43","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"87"},{"1":"34.954.014/0001-66","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"88"},{"1":"36.247.108/0001-20","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"89"},{"1":"43.637.077/0001-80","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"90"},{"1":"48.576.186/0001-58","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"91"},{"1":"50.920.039/0001-03","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"92"},{"1":"53.167.028/0001-84","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"93"},{"1":"53.204.024/0001-29","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"94"},{"1":"53.484.737/0001-93","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"95"},{"1":"54.097.184/0001-89","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"96"},{"1":"54.623.401/0001-27","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"97"},{"1":"55.344.648/0001-77","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"98"},{"1":"56.429.429/0001-53","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"99"},{"1":"57.411.565/0001-89","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"100"},{"1":"58.512.027/0001-43","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"101"},{"1":"24.283.840/0001-77","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"102"},{"1":"24.337.970/0001-45","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"103"},{"1":"32.140.509/0001-26","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"104"},{"1":"41.387.534/0001-08","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"105"},{"1":"42.675.834/0001-47","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"106"},{"1":"45.360.267/0001-28","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"107"},{"1":"45.619.594/0001-51","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"108"},{"1":"51.907.351/0002-00","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"109"},{"1":"56.121.779/0001-58","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"110"},{"1":"57.281.139/0001-78","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"111"},{"1":"58.115.778/0001-26","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"112"},{"1":"58.629.645/0001-78","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"113"},{"1":"23.424.764/0001-00","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"114"},{"1":"22.669.579/0001-12","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"115"},{"1":"26.725.906/0001-67","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"116"},{"1":"31.183.802/0001-08","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"117"},{"1":"32.472.530/0001-29","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"118"},{"1":"33.479.217/0001-85","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"119"},{"1":"36.418.462/0001-70","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"120"},{"1":"38.188.899/0001-90","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"121"},{"1":"32.963.369/0001-96","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"122"},{"1":"43.243.908/0001-39","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"123"},{"1":"43.667.680/0001-04","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"124"},{"1":"43.970.103/0001-97","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"125"},{"1":"32.950.587/0002-77","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"126"},{"1":"47.127.237/0001-00","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"127"},{"1":"49.627.651/0001-03","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"128"},{"1":"52.482.849/0001-42","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"129"},{"1":"55.113.075/0001-70","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"130"},{"1":"23.997.094/0001-10","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"131"},{"1":"19.821.141/0001-01","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"132"},{"1":"28.689.845/0001-55","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"133"},{"1":"38.971.920/0001-20","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"134"},{"1":"39.866.734/0001-93","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"135"},{"1":"41.834.424/0001-39","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"136"},{"1":"43.551.017/0001-40","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"137"},{"1":"44.396.857/0001-48","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"138"},{"1":"47.234.762/0001-16","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"139"},{"1":"49.150.690/0001-54","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"140"},{"1":"50.567.949/0001-46","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"141"},{"1":"51.907.351/0001-11","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"142"},{"1":"52.025.617/0001-65","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"143"},{"1":"54.004.281/0001-80","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"144"},{"1":"54.053.421/0001-00","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"145"},{"1":"32.950.587/0003-58","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"146"},{"1":"57.196.425/0001-35","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"147"},{"1":"57.710.705/0001-10","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"148"},{"1":"58.128.363/0001-97","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"149"},{"1":"13.573.865/0001-99","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"150"},{"1":"14.715.061/0001-40","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"151"},{"1":"31.413.806/0001-35","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"152"},{"1":"33.565.423/0001-08","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"153"},{"1":"28.825.457/0001-54","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"154"},{"1":"40.866.058/0001-37","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"155"},{"1":"42.135.382/0001-00","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"156"},{"1":"32.950.587/0001-96","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"157"},{"1":"49.940.055/0001-70","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"158"},{"1":"50.567.151/0001-02","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"159"},{"1":"52.195.546/0001-49","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"160"},{"1":"53.321.679/0001-87","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"161"},{"1":"57.369.445/0001-60","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"162"},{"1":"24.751.115/0001-86","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"163"},{"1":"30.529.548/0001-94","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"164"},{"1":"43.098.576/0001-46","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"165"},{"1":"45.192.109/0001-06","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"166"},{"1":"49.576.299/0001-16","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"167"},{"1":"49.652.360/0001-67","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"168"},{"1":"49.744.083/0001-12","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"169"},{"1":"50.275.392/0001-70","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"170"},{"1":"51.353.040/0001-58","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"171"},{"1":"51.513.252/0001-55","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"172"},{"1":"54.556.880/0001-06","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"173"},{"1":"23.174.910/0001-96","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"174"},{"1":"32.260.294/0001-87","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"175"},{"1":"34.638.534/0001-60","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"176"},{"1":"39.021.938/0001-23","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"177"},{"1":"39.391.017/0001-52","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"178"},{"1":"45.219.981/0001-09","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"179"},{"1":"48.554.867/0001-15","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"180"},{"1":"50.962.656/0001-63","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"181"},{"1":"55.386.436/0001-52","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"182"},{"1":"57.555.303/0001-98","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"183"},{"1":"25.063.631/0001-80","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"184"},{"1":"31.129.051/0001-41","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"185"},{"1":"31.673.451/0001-13","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"186"},{"1":"31.985.375/0001-81","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"187"},{"1":"32.412.583/0001-54","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"188"},{"1":"32.740.952/0001-38","2":"5611-2/01","3":"G0","4":"<sf_POINT>","_rn_":"189"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section><section id="normalize-favela-shape-crs" class="level3"><h3 class="anchored" data-anchor-id="normalize-favela-shape-crs">Normalize Favela Shape CRS</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">allocation_shape</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">shape</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="st">"WGS84"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="plot-food-establishments" class="level3"><h3 class="anchored" data-anchor-id="plot-food-establishments">Plot Food Establishments</h3>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This plot illustrates the spatial distribution of food establishments within the selected Locais-Nova scale group.</p>
</div>
</div>
</div>
<section id="plot-establishments-1" class="level4"><h4 class="anchored" data-anchor-id="plot-establishments-1">Plot Establishments</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">shape</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"gray90"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"black"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">allocation_data</span>,</span>
<span>    color <span class="op">=</span> <span class="fu"><a href="https://danielvartan.github.io/brandr/reference/get_brand_color.html">get_brand_color</a></span><span class="op">(</span><span class="st">"blue"</span><span class="op">)</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">coord_sf</a></span><span class="op">(</span>crs <span class="op">=</span> <span class="st">"WGS84"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://danielvartan.github.io/brandr/reference/scale_brand.html">scale_color_brand_d</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/Plot Food Establishments (With Restaurants)-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="index_files/figure-html/Plot Food Establishments (With Restaurants)-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="show-establishments-on-leaflet" class="level4"><h4 class="anchored" data-anchor-id="show-establishments-on-leaflet">Show Establishments on Leaflet</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">shape_centroid</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">shape</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html">st_centroid</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">point_coordinates</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">allocation_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    latitude <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">geometry</span><span class="op">)</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span>,</span>
<span>    longitude <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">geometry</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">cnpj</span>, <span class="va">latitude</span>, <span class="va">longitude</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html">leaflet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-methods.html">setView</a></span><span class="op">(</span></span>
<span>    lng <span class="op">=</span> <span class="va">shape_centroid</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>    lat <span class="op">=</span> <span class="va">shape_centroid</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>    zoom <span class="op">=</span> <span class="fl">15</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html">addMarkers</a></span><span class="op">(</span></span>
<span>    lng <span class="op">=</span> <span class="va">point_coordinates</span><span class="op">$</span><span class="va">longitude</span>,</span>
<span>    lat <span class="op">=</span> <span class="va">point_coordinates</span><span class="op">$</span><span class="va">latitude</span>,</span>
<span>    popup <span class="op">=</span> <span class="va">point_coordinates</span><span class="op">$</span><span class="va">cnpj</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-70cb831ad67a74963a8a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-70cb831ad67a74963a8a">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[[-23.61575164913293,-23.61291901270549,-23.61667442321777,-23.61669874191284,-23.6167346438736,-23.61502838134766,-23.61756659876729,-23.6155919701939,-23.6167346438736,-23.61498399357512,-23.6167346438736,-23.61495780944824,-23.61702156066895,-23.61879652824412,-23.61764240264893,-23.61355018615723,-23.61839624244948,-23.61863327026367,-23.62018585205078,-23.61900095870689,-23.6148509979248,-23.61479449524671,-23.61935043334961,-23.61541595851205,-23.61464355368546,-23.6184253692627,-23.61839294433594,-23.61904411315918,-23.61568594039362,-23.61525592803955,-23.61814880371094,-23.6160774230957,-23.61937141418457,-23.61499118804932,-23.61797027014276,-23.62064170837402,-23.61634731292725,-23.62036181407924,-23.62033271789551,-23.61679267883301,-23.61955833435059,-23.61578333404887,-23.6129239393154,-23.61452218517656,-23.61831531524658,-23.61569786071777,-23.61413764953613,-23.6183032989502,-23.62017250061035,-23.61654704576022,-23.6150016784668,-23.61449815458936,-23.61693572998047,-23.61648239135742,-23.61578623453776,-23.6157341003418,-23.61452178958,-23.62084770202637,-23.61612425910102,-23.61514555045013,-23.61789798736572,-23.61458221222106,-23.61759185791016,-23.61483726726922,-23.6155948638916,-23.61922645568848,-23.61782809666225,-23.61505636936168,-23.61449191863261,-23.61520957946777,-23.61461989725505,-23.61360549926758,-23.61759376525879,-23.61613134254445,-23.61978936195374,-23.6128883669415,-23.61856460571289,-23.61969439188639,-23.6146936416626,-23.6137809753418,-23.61450253797835,-23.62042018757632,-23.61978936195374,-23.61480057232146,-23.61634731292725,-23.61779927140432,-23.61471176147461,-23.61963653564453,-23.61673355102539,-23.61845207214355,-23.61458460489909,-23.61601257324219,-23.61450255929913,-23.61594881330218,-23.61393547058105,-23.61452027299264,-23.61941146850586,-23.61819839477539,-23.61832754073604,-23.61900095870689,-23.61252212524414,-23.61887719684545,-23.61569603090912,-23.61738711244313,-23.62042045593262,-23.61577390702668,-23.61492214202881,-23.61839081648685,-23.61413764953613,-23.6144929411718,-23.6146936416626,-23.61634731292725,-23.61495780944824,-23.61659825827303,-23.61785888671875,-23.61830258369446,-23.61525592803955,-23.61981153488159,-23.61954949999502,-23.61336135864258,-23.61621761322021,-23.61648239135742,-23.62099456787109,-23.61923052088655,-23.61344337463379,-23.61923980712891,-23.61479530948062,-23.61330966561684,-23.61800627617582,-23.61759376525879,-23.6197411219279,-23.61787271499634,-23.61542892456055,-23.61644683951097,-23.61732448659074,-23.61454625679264,-23.61684213584118,-23.6169605255127,-23.61567654894728,-23.61671257019043,-23.61435317993164,-23.61413764953613,-23.61566925048828,-23.61687660217285,-23.61557388305664,-23.61788113642657,-23.61496652947335,-23.61918144850173,-23.61572074890137,-23.61746628763509,-23.61741582376445,-23.61624526977539,-23.61977879582051,-23.61802023215442,-23.61972045898438,-23.61301231384277,-23.61451306731393,-23.61564874649048,-23.61358560834612,-23.61978936195374,-23.61925506591797,-23.6144994768498,-23.61659599009105,-23.61621425116834,-23.61600419786197,-23.6148567199707,-23.61970901489258,-23.61800627617582,-23.61603346437575,-23.61659599515625,-23.61257362365723,-23.61482273271539,-23.61679267883301,-23.61435317993164,-23.61634731292725,-23.61450360633964,-23.61680603027344,-23.61665344238281,-23.61759376525879,-23.61670587020931,-23.61328125,-23.61498641967773,-23.61919784545898,-23.61820793151855,-23.61511265399159,-23.61759185791016,-23.61477470397949,-23.61699002174926,-23.61559864666505],[-46.72633289141567,-46.72856680552164,-46.72610855102539,-46.72559928894043,-46.72579681937901,-46.72281646728516,-46.72658466666513,-46.72713483898595,-46.72579681937901,-46.7240515607991,-46.72579681937901,-46.7233772277832,-46.72645950317383,-46.72655180833164,-46.72681999206543,-46.72746658325195,-46.7287198772584,-46.73107528686523,-46.72903060913086,-46.73136259154629,-46.72499084472656,-46.725148647963,-46.72993850708008,-46.72906933143142,-46.71997483027543,-46.72663116455078,-46.72978210449219,-46.73087768554687,-46.72622758488714,-46.72005653381348,-46.73078155517578,-46.72102737426758,-46.72903442382812,-46.72306442260742,-46.72649240477143,-46.72655487060547,-46.72910308837891,-46.72749953221305,-46.72759246826172,-46.72526931762695,-46.72889709472656,-46.72518125276759,-46.7238774189802,-46.72421494718316,-46.73099327087402,-46.72526550292969,-46.71973419189453,-46.72754287719727,-46.73015975952148,-46.72856875408994,-46.72426223754883,-46.72421468995213,-46.73015594482422,-46.73020782470703,-46.72412745157877,-46.72846603393555,-46.72421494334244,-46.72661209106445,-46.72276221381293,-46.72429395690195,-46.72682571411133,-46.72421414257488,-46.72687149047852,-46.72491572916937,-46.72807693481445,-46.73151397705078,-46.73059790475028,-46.72222308811578,-46.72421463212554,-46.7205924987793,-46.72423199611369,-46.72720718383789,-46.72694778442383,-46.72234662551578,-46.73008441925049,-46.72440391552907,-46.73014450073242,-46.73018519083659,-46.72718238830566,-46.72487258911133,-46.72421473514802,-46.72656287609437,-46.73008441925049,-46.72010861352761,-46.72910308837891,-46.72646117055727,-46.72221755981445,-46.72980499267578,-46.72607040405273,-46.72799301147461,-46.72220675150553,-46.73038101196289,-46.7242147353749,-46.72396469116211,-46.72621790568034,-46.72421492826505,-46.73000717163086,-46.72668838500977,-46.72406044826712,-46.73136259154629,-46.72714614868164,-46.7265757991736,-46.72611159814831,-46.72874772993684,-46.72661972045898,-46.72119121419074,-46.7283432006836,-46.73099439941488,-46.71973419189453,-46.72421464098844,-46.72718238830566,-46.72910308837891,-46.7233772277832,-46.72639334516182,-46.72662734985352,-46.73003959655762,-46.72005653381348,-46.73014259338379,-46.72947535066868,-46.72613525390625,-46.7217903137207,-46.73020782470703,-46.72652435302734,-46.73012880711046,-46.72820281982422,-46.72891235351562,-46.72105277806964,-46.72167932558072,-46.72307499543061,-46.72694778442383,-46.72723134358724,-46.73078060150146,-46.72230911254883,-46.72109290366156,-46.72948950331403,-46.72421504246265,-46.72137718170373,-46.72342936197916,-46.72113225045686,-46.72864151000977,-46.72934722900391,-46.71973419189453,-46.72639083862305,-46.7247314453125,-46.72012710571289,-46.72872312968011,-46.72529106773274,-46.73071036148877,-46.72117233276367,-46.72762744103505,-46.72845108466192,-46.72647476196289,-46.73013494799307,-46.7265414343471,-46.72682189941406,-46.72222137451172,-46.72838563555653,-46.72610187530518,-46.72211946759905,-46.73008441925049,-46.72894287109375,-46.72421470325313,-46.72700022542603,-46.72638047484849,-46.72116217562842,-46.72017669677734,-46.73013687133789,-46.72307499543061,-46.72111531344033,-46.72097530271383,-46.72675450642904,-46.72490641201945,-46.72533416748047,-46.72934722900391,-46.72910308837891,-46.72421474658625,-46.7211799621582,-46.72582244873047,-46.72717952728271,-46.72616747217289,-46.72187423706055,-46.72368240356445,-46.72547912597656,-46.72672271728516,-46.72222937340133,-46.72687149047852,-46.72507476806641,-46.72861426186966,-46.7263169809765],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["24.650.407/0001-22","54.624.979/0001-06","04.047.609/0001-77","24.147.511/0001-07","49.592.661/0001-42","96.167.382/0001-11","49.184.221/0001-56","36.316.473/0001-40","54.185.302/0001-00","22.552.704/0001-00","54.300.861/0001-14","57.885.326/0001-60","08.642.875/0001-07","26.423.736/0001-66","40.184.553/0001-66","47.346.055/0001-11","50.145.883/0001-04","55.848.211/0001-70","53.879.660/0001-50","54.005.936/0001-34","55.225.006/0001-59","37.090.973/0001-79","51.347.556/0001-90","41.611.915/0001-10","52.860.656/0001-88","19.055.605/0001-08","19.147.888/0001-18","54.749.397/0001-48","55.119.297/0001-09","34.979.627/0001-58","42.195.058/0001-88","57.472.229/0001-46","35.371.620/0001-11","39.616.061/0001-13","55.625.201/0001-76","58.237.309/0001-80","26.669.307/0001-73","36.488.103/0001-90","58.734.756/0001-44","25.200.677/0001-02","37.077.402/0001-02","52.972.541/0001-85","38.347.345/0001-99","40.117.911/0001-18","41.007.021/0001-16","43.067.830/0001-49","32.299.456/0001-90","44.659.465/0001-24","48.029.676/0001-34","49.271.715/0001-78","49.367.878/0001-59","49.509.766/0001-95","50.520.056/0001-45","51.299.235/0001-67","52.854.895/0001-25","54.601.421/0001-05","54.664.854/0001-00","33.522.227/0001-56","36.535.903/0001-14","37.745.337/0001-38","39.763.336/0001-41","45.791.614/0001-77","47.720.088/0001-80","50.746.563/0001-00","51.437.577/0001-04","51.816.137/0001-50","54.876.302/0001-57","54.997.880/0001-41","11.896.048/0001-46","28.958.755/0001-12","31.388.658/0001-46","34.174.536/0001-45","40.423.938/0001-39","42.337.357/0001-00","31.035.950/0001-85","44.845.976/0001-30","46.894.136/0001-93","49.474.765/0001-52","51.101.593/0001-13","53.080.076/0001-30","53.624.120/0001-26","53.916.444/0001-38","54.785.496/0001-85","55.539.772/0001-98","58.081.565/0001-20","27.993.890/0001-36","30.311.662/0001-43","34.954.014/0001-66","36.247.108/0001-20","43.637.077/0001-80","48.576.186/0001-58","50.920.039/0001-03","53.167.028/0001-84","53.204.024/0001-29","53.484.737/0001-93","54.097.184/0001-89","54.623.401/0001-27","55.344.648/0001-77","56.429.429/0001-53","57.411.565/0001-89","58.512.027/0001-43","24.283.840/0001-77","24.337.970/0001-45","32.140.509/0001-26","41.387.534/0001-08","42.675.834/0001-47","45.360.267/0001-28","45.619.594/0001-51","51.907.351/0002-00","56.121.779/0001-58","57.281.139/0001-78","58.115.778/0001-26","58.629.645/0001-78","23.424.764/0001-00","22.669.579/0001-12","26.725.906/0001-67","31.183.802/0001-08","32.472.530/0001-29","33.479.217/0001-85","36.418.462/0001-70","38.188.899/0001-90","32.963.369/0001-96","43.243.908/0001-39","43.667.680/0001-04","43.970.103/0001-97","32.950.587/0002-77","47.127.237/0001-00","49.627.651/0001-03","52.482.849/0001-42","55.113.075/0001-70","23.997.094/0001-10","19.821.141/0001-01","28.689.845/0001-55","38.971.920/0001-20","39.866.734/0001-93","41.834.424/0001-39","43.551.017/0001-40","44.396.857/0001-48","47.234.762/0001-16","49.150.690/0001-54","50.567.949/0001-46","51.907.351/0001-11","52.025.617/0001-65","54.004.281/0001-80","54.053.421/0001-00","32.950.587/0003-58","57.196.425/0001-35","57.710.705/0001-10","58.128.363/0001-97","13.573.865/0001-99","14.715.061/0001-40","31.413.806/0001-35","33.565.423/0001-08","28.825.457/0001-54","40.866.058/0001-37","42.135.382/0001-00","32.950.587/0001-96","49.940.055/0001-70","50.567.151/0001-02","52.195.546/0001-49","53.321.679/0001-87","57.369.445/0001-60","24.751.115/0001-86","30.529.548/0001-94","43.098.576/0001-46","45.192.109/0001-06","49.576.299/0001-16","49.652.360/0001-67","49.744.083/0001-12","50.275.392/0001-70","51.353.040/0001-58","51.513.252/0001-55","54.556.880/0001-06","23.174.910/0001-96","32.260.294/0001-87","34.638.534/0001-60","39.021.938/0001-23","39.391.017/0001-52","45.219.981/0001-09","48.554.867/0001-15","50.962.656/0001-63","55.386.436/0001-52","57.555.303/0001-98","25.063.631/0001-80","31.129.051/0001-41","31.673.451/0001-13","31.985.375/0001-81","32.412.583/0001-54","32.740.952/0001-38"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"setView":[[-23.61622920798041,-46.72593480946711],15,[]],"limits":{"lat":[-23.62099456787109,-23.61252212524414],"lng":[-46.73151397705078,-46.71973419189453]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section></section><section id="compute-travel-time" class="level3"><h3 class="anchored" data-anchor-id="compute-travel-time">Compute Travel Time</h3>
<div class="callout callout-style-simple callout-warning">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This process may require substantial computational resources, depending on the area’s size and the number of establishments analyzed. Ensure your system has adequate capacity before proceeding.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb50"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">travel_time_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">allocation_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://giacfalk.github.io/locationallocation/reference/traveltime.html">traveltime</a></span><span class="op">(</span></span>
<span>    bb_area <span class="op">=</span> <span class="va">allocation_shape</span>,</span>
<span>    dowscaling_model_type <span class="op">=</span> <span class="st">"lm"</span>,</span>
<span>    mode <span class="op">=</span> <span class="st">"walk"</span>,</span>
<span>    res_output <span class="op">=</span> <span class="fl">10</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="plot-travel-time" class="level3"><h3 class="anchored" data-anchor-id="plot-travel-time">Plot Travel Time</h3>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This plot illustrates walking travel times from food establishments within the selected Locais-Nova scale group, considering the spatial friction of the area. Contour lines represent travel times up to the specified objective minutes.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb51"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">travel_time_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://giacfalk.github.io/locationallocation/reference/traveltime_plot.html">traveltime_plot</a></span><span class="op">(</span></span>
<span>    bb_area <span class="op">=</span> <span class="va">allocation_shape</span>,</span>
<span>    facilities <span class="op">=</span> <span class="va">allocation_data</span>,</span>
<span>    contour_traveltime <span class="op">=</span> <span class="va">objective_minutes</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/Travel Time Plot (With Restaurants)-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="index_files/figure-html/Travel Time Plot (With Restaurants)-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="rasterize-population-data" class="level3"><h3 class="anchored" data-anchor-id="rasterize-population-data">Rasterize Population Data</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb52"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">census_raster_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">census_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">tract_code</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="st">"WGS84"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/stars/reference/st_rasterize.html">st_rasterize</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/methods/as.html">as</a></span><span class="op">(</span><span class="st">"Raster"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="compute-travel-time-stats" class="level3"><h3 class="anchored" data-anchor-id="compute-travel-time-stats">Compute Travel Time Stats</h3>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This plot illustrates the cumulative population coverage achieved within the specified travel time intervals from food establishments in the selected Locais-Nova scale group, highlighting accessibility patterns and potential gaps in coverage.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">travel_time_stats</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">travel_time_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://giacfalk.github.io/locationallocation/reference/traveltime_stats.html">traveltime_stats</a></span><span class="op">(</span></span>
<span>    demand <span class="op">=</span> <span class="va">census_raster_data</span>,</span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>    objectiveminutes <span class="op">=</span> <span class="va">objective_minutes</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; ℹ 100% of coverage within the 15 minutes threshold.</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/Travel Time Stats (With Restaurants)-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="index_files/figure-html/Travel Time Stats (With Restaurants)-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</section></section><section id="compute-maximal-coverage-location-allocation-without-restaurants" class="level2"><h2 class="anchored" data-anchor-id="compute-maximal-coverage-location-allocation-without-restaurants">Compute Maximal Coverage Location-Allocation (Without Restaurants)</h2>
<section id="filter-allocation-data" class="level3"><h3 class="anchored" data-anchor-id="filter-allocation-data">Filter Allocation Data</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb54"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">allocation_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">allocation_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">cnae</span> <span class="op">==</span> <span class="st">"5611-2/01"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="st">"WGS84"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="check-allocation-data-1" class="level3"><h3 class="anchored" data-anchor-id="check-allocation-data-1">Check Allocation Data</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">unique_cnaes</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">allocation_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">cnae</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb56"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cnae_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">cnae</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu">magrittr</span><span class="fu">::</span><span class="fu"><a href="https://magrittr.tidyverse.org/reference/aliases.html">is_in</a></span><span class="op">(</span></span>
<span>        <span class="va">unique_cnaes</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html">str_extract_all</a></span><span class="op">(</span><span class="st">"\\d"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">paste</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cnae"],"name":[1],"type":["chr"],"align":["left"]},{"label":["description"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"4722901","2":"Comércio varejista de carnes - açougues"},{"1":"4722902","2":"Peixaria"},{"1":"4724500","2":"Comércio varejista de hortifrutigranjeiros"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">allocation_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 42</span></span>
<span><span class="co">#&gt; Columns: 4</span></span>
<span><span class="co">#&gt; $ cnpj     &lt;chr&gt; "24.650.407/0001-22", "54.624.979/0001-06", "04.047.609/00…</span></span>
<span><span class="co">#&gt; $ cnae     &lt;chr&gt; "4722-9/01", "4722-9/01", "4722-9/01", "4722-9/01", "4722-…</span></span>
<span><span class="co">#&gt; $ group    &lt;chr&gt; "G0", "G0", "G0", "G0", "G0", "G0", "G0", "G0", "G0", "G0"…</span></span>
<span><span class="co">#&gt; $ geometry &lt;POINT [°]&gt; POINT (-46.72633289 -23.615..., POINT (-46.72856681 …</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb58"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">allocation_data</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["cnpj"],"name":[1],"type":["chr"],"align":["left"]},{"label":["cnae"],"name":[2],"type":["chr"],"align":["left"]},{"label":["group"],"name":[3],"type":["chr"],"align":["left"]},{"label":["geometry"],"name":[4],"type":["sf_POINT"],"align":["right"]}],"data":[{"1":"24.650.407/0001-22","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"1"},{"1":"54.624.979/0001-06","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"2"},{"1":"04.047.609/0001-77","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"3"},{"1":"24.147.511/0001-07","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"4"},{"1":"49.592.661/0001-42","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"5"},{"1":"96.167.382/0001-11","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"6"},{"1":"49.184.221/0001-56","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"7"},{"1":"36.316.473/0001-40","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"8"},{"1":"54.185.302/0001-00","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"9"},{"1":"22.552.704/0001-00","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"10"},{"1":"54.300.861/0001-14","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"11"},{"1":"57.885.326/0001-60","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"12"},{"1":"08.642.875/0001-07","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"13"},{"1":"26.423.736/0001-66","2":"4722-9/01","3":"G0","4":"<sf_POINT>","_rn_":"14"},{"1":"40.184.553/0001-66","2":"4722-9/02","3":"G0","4":"<sf_POINT>","_rn_":"15"},{"1":"47.346.055/0001-11","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"16"},{"1":"50.145.883/0001-04","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"17"},{"1":"55.848.211/0001-70","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"18"},{"1":"53.879.660/0001-50","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"19"},{"1":"54.005.936/0001-34","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"20"},{"1":"55.225.006/0001-59","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"21"},{"1":"37.090.973/0001-79","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"22"},{"1":"51.347.556/0001-90","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"23"},{"1":"41.611.915/0001-10","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"24"},{"1":"52.860.656/0001-88","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"25"},{"1":"19.055.605/0001-08","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"26"},{"1":"19.147.888/0001-18","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"27"},{"1":"54.749.397/0001-48","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"28"},{"1":"55.119.297/0001-09","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"29"},{"1":"34.979.627/0001-58","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"30"},{"1":"42.195.058/0001-88","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"31"},{"1":"57.472.229/0001-46","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"32"},{"1":"35.371.620/0001-11","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"33"},{"1":"39.616.061/0001-13","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"34"},{"1":"55.625.201/0001-76","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"35"},{"1":"58.237.309/0001-80","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"36"},{"1":"26.669.307/0001-73","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"37"},{"1":"36.488.103/0001-90","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"38"},{"1":"58.734.756/0001-44","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"39"},{"1":"25.200.677/0001-02","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"40"},{"1":"37.077.402/0001-02","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"41"},{"1":"52.972.541/0001-85","2":"4724-5/00","3":"G0","4":"<sf_POINT>","_rn_":"42"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section><section id="normalize-favela-shape-crs-1" class="level3"><h3 class="anchored" data-anchor-id="normalize-favela-shape-crs-1">Normalize Favela Shape CRS</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">allocation_shape</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">shape</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="st">"WGS84"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="plot-food-establishments-1" class="level3"><h3 class="anchored" data-anchor-id="plot-food-establishments-1">Plot Food Establishments</h3>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This plot illustrates the spatial distribution of food establishments within the selected Locais-Nova scale group.</p>
</div>
</div>
</div>
<section id="plot-establishments-2" class="level4"><h4 class="anchored" data-anchor-id="plot-establishments-2">Plot Establishments</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb60"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">shape</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"gray90"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"black"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">allocation_data</span>,</span>
<span>    color <span class="op">=</span> <span class="fu"><a href="https://danielvartan.github.io/brandr/reference/get_brand_color.html">get_brand_color</a></span><span class="op">(</span><span class="st">"blue"</span><span class="op">)</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">coord_sf</a></span><span class="op">(</span>crs <span class="op">=</span> <span class="st">"WGS84"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://danielvartan.github.io/brandr/reference/scale_brand.html">scale_color_brand_d</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/Plot Food Establishments (Without Restaurants)-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="index_files/figure-html/Plot Food Establishments (Without Restaurants)-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="show-establishments-on-leaflet-1" class="level4"><h4 class="anchored" data-anchor-id="show-establishments-on-leaflet-1">Show Establishments on Leaflet</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">shape_centroid</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">shape</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html">st_centroid</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb62"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">point_coordinates</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">allocation_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    latitude <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">geometry</span><span class="op">)</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span>,</span>
<span>    longitude <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="va">geometry</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">cnpj</span>, <span class="va">latitude</span>, <span class="va">longitude</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html">leaflet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-methods.html">setView</a></span><span class="op">(</span></span>
<span>    lng <span class="op">=</span> <span class="va">shape_centroid</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>    lat <span class="op">=</span> <span class="va">shape_centroid</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>    zoom <span class="op">=</span> <span class="fl">15</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html">addMarkers</a></span><span class="op">(</span></span>
<span>    lng <span class="op">=</span> <span class="va">point_coordinates</span><span class="op">$</span><span class="va">longitude</span>,</span>
<span>    lat <span class="op">=</span> <span class="va">point_coordinates</span><span class="op">$</span><span class="va">latitude</span>,</span>
<span>    popup <span class="op">=</span> <span class="va">point_coordinates</span><span class="op">$</span><span class="va">cnpj</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-9e8d241f3e1c20fb5875" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-9e8d241f3e1c20fb5875">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[[-23.61575164913293,-23.61291901270549,-23.61667442321777,-23.61669874191284,-23.6167346438736,-23.61502838134766,-23.61756659876729,-23.6155919701939,-23.6167346438736,-23.61498399357512,-23.6167346438736,-23.61495780944824,-23.61702156066895,-23.61879652824412,-23.61764240264893,-23.61355018615723,-23.61839624244948,-23.61863327026367,-23.62018585205078,-23.61900095870689,-23.6148509979248,-23.61479449524671,-23.61935043334961,-23.61541595851205,-23.61464355368546,-23.6184253692627,-23.61839294433594,-23.61904411315918,-23.61568594039362,-23.61525592803955,-23.61814880371094,-23.6160774230957,-23.61937141418457,-23.61499118804932,-23.61797027014276,-23.62064170837402,-23.61634731292725,-23.62036181407924,-23.62033271789551,-23.61679267883301,-23.61955833435059,-23.61578333404887],[-46.72633289141567,-46.72856680552164,-46.72610855102539,-46.72559928894043,-46.72579681937901,-46.72281646728516,-46.72658466666513,-46.72713483898595,-46.72579681937901,-46.7240515607991,-46.72579681937901,-46.7233772277832,-46.72645950317383,-46.72655180833164,-46.72681999206543,-46.72746658325195,-46.7287198772584,-46.73107528686523,-46.72903060913086,-46.73136259154629,-46.72499084472656,-46.725148647963,-46.72993850708008,-46.72906933143142,-46.71997483027543,-46.72663116455078,-46.72978210449219,-46.73087768554687,-46.72622758488714,-46.72005653381348,-46.73078155517578,-46.72102737426758,-46.72903442382812,-46.72306442260742,-46.72649240477143,-46.72655487060547,-46.72910308837891,-46.72749953221305,-46.72759246826172,-46.72526931762695,-46.72889709472656,-46.72518125276759],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["24.650.407/0001-22","54.624.979/0001-06","04.047.609/0001-77","24.147.511/0001-07","49.592.661/0001-42","96.167.382/0001-11","49.184.221/0001-56","36.316.473/0001-40","54.185.302/0001-00","22.552.704/0001-00","54.300.861/0001-14","57.885.326/0001-60","08.642.875/0001-07","26.423.736/0001-66","40.184.553/0001-66","47.346.055/0001-11","50.145.883/0001-04","55.848.211/0001-70","53.879.660/0001-50","54.005.936/0001-34","55.225.006/0001-59","37.090.973/0001-79","51.347.556/0001-90","41.611.915/0001-10","52.860.656/0001-88","19.055.605/0001-08","19.147.888/0001-18","54.749.397/0001-48","55.119.297/0001-09","34.979.627/0001-58","42.195.058/0001-88","57.472.229/0001-46","35.371.620/0001-11","39.616.061/0001-13","55.625.201/0001-76","58.237.309/0001-80","26.669.307/0001-73","36.488.103/0001-90","58.734.756/0001-44","25.200.677/0001-02","37.077.402/0001-02","52.972.541/0001-85"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"setView":[[-23.61622920798041,-46.72593480946711],15,[]],"limits":{"lat":[-23.62064170837402,-23.61291901270549],"lng":[-46.73136259154629,-46.71997483027543]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section></section><section id="compute-travel-time-1" class="level3"><h3 class="anchored" data-anchor-id="compute-travel-time-1">Compute Travel Time</h3>
<div class="callout callout-style-simple callout-warning">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This process may require substantial computational resources, depending on the area’s size and the number of establishments analyzed. Ensure your system has adequate capacity before proceeding.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb64"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">travel_time_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">allocation_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://giacfalk.github.io/locationallocation/reference/traveltime.html">traveltime</a></span><span class="op">(</span></span>
<span>    bb_area <span class="op">=</span> <span class="va">allocation_shape</span>,</span>
<span>    dowscaling_model_type <span class="op">=</span> <span class="st">"lm"</span>,</span>
<span>    mode <span class="op">=</span> <span class="st">"walk"</span>,</span>
<span>    res_output <span class="op">=</span> <span class="fl">10</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="plot-travel-time-1" class="level3"><h3 class="anchored" data-anchor-id="plot-travel-time-1">Plot Travel Time</h3>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>This plot illustrates walking travel times to food establishments within the selected Locais-Nova scale group, considering the spatial friction of the area using <a href="https://data.malariaatlas.org/maps?layers=Accessibility:202001_Global_Walking_Only_Friction_Surface&amp;extent=-5374476.139299919,-2804556.46475387,-4931760.0211486025,-2595649.7965012174">surface roughness</a> along with roads, streets and paths (see the OpenStreetMap <a href="https://wiki.openstreetmap.org/wiki/Key:highway"><code>highway</code></a> key to learn more). Contour lines represent travel times up to the specified objective minutes.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">travel_time_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://giacfalk.github.io/locationallocation/reference/traveltime_plot.html">traveltime_plot</a></span><span class="op">(</span></span>
<span>    bb_area <span class="op">=</span> <span class="va">allocation_shape</span>,</span>
<span>    facilities <span class="op">=</span> <span class="va">allocation_data</span>,</span>
<span>    contour_traveltime <span class="op">=</span> <span class="va">objective_minutes</span></span>
<span>  <span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/Travel Time Plot (Without Restaurants)-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="index_files/figure-html/Travel Time Plot (Without Restaurants)-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="rasterize-population-data-1" class="level3"><h3 class="anchored" data-anchor-id="rasterize-population-data-1">Rasterize Population Data</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb66"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">census_raster_data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">census_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">tract_code</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="st">"WGS84"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/stars/reference/st_rasterize.html">st_rasterize</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/methods/as.html">as</a></span><span class="op">(</span><span class="st">"Raster"</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="compute-travel-time-stats-1" class="level3"><h3 class="anchored" data-anchor-id="compute-travel-time-stats-1">Compute Travel Time Stats</h3>
<div class="callout callout-style-simple callout-tip">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>You can compare this result with the food deserts and food swamps identified on the <a href="https://alimentacidades.digital/#desertos">Alimenta Cidades</a> platform.</p>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">travel_time_stats</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">travel_time_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://giacfalk.github.io/locationallocation/reference/traveltime_stats.html">traveltime_stats</a></span><span class="op">(</span></span>
<span>    demand <span class="op">=</span> <span class="va">census_raster_data</span>,</span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>    objectiveminutes <span class="op">=</span> <span class="va">objective_minutes</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; ℹ 100% of coverage within the 15 minutes threshold.</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><a href="index_files/figure-html/Travel Time Stats (Without Restaurants)-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="index_files/figure-html/Travel Time Stats (Without Restaurants)-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</section></section><section id="citation" class="level2"><h2 class="anchored" data-anchor-id="citation">Citation</h2>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>When using this data, you must also cite the original data sources.</p>
</div>
</div>
</div>
<p>To cite this work, please use the following format:</p>
<p>Vartanian, D., Silva, L. G., Fernandes, C. N., &amp; Giannotti, M. A. (2025). <em>A reproducible pipeline for maximal coverage location-allocation of food establishments in Brazil using the Locais-Nova scale</em> [Computer software]. Center for Metropolitan Studies of the University of São Paulo. <a href="https://cem-usp.github.io/locais-nova-location-allocation" class="uri">https://cem-usp.github.io/locais-nova-location-allocation</a></p>
<p>A BibLaTeX entry for LaTeX users is:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb68"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>@software{silva2025,</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  title = {A reproducible pipeline for maximal coverage location-allocation of food establishments in Brazil using the Locais-Nova scale},</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  author = {{Daniel Vartanian} and {Letícia Gonçalves Silva} and {Camila Nastari Fernandes} and {Mariana Abrantes Giannotti}},</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  year = {2025},</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  address = {São Paulo},</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  institution = {Center for Metropolitan Studies of the University of São Paulo},</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  langid = {en},</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>  url = {https://cem-usp.github.io/locais-nova-location-allocation}</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section><section id="license" class="level2"><h2 class="anchored" data-anchor-id="license">License</h2>
<div style="text-align: left;">
<p><a href="https://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/license-GPLv3-bd0000.svg" class="img-fluid" alt="License: GPLv3"></a> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/license-CC_BY--NC--SA_4.0-lightgrey.svg" class="img-fluid" alt="License: CC BY-NC-SA 4.0"></a></p>
</div>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The original data sources may be subject to their own licensing terms and conditions.</p>
</div>
</div>
</div>
<p>The code in this repository is licensed under the <a href="https://www.gnu.org/licenses/gpl-3.0">GNU General Public License Version 3</a>, while the report is available under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International</a>.</p>
<pre><code>Copyright (C) 2025 Center for Metropolitan Studies

The code in this report is free software: you can redistribute it and/or
modify it under the terms of the GNU General Public License as published by the
Free Software Foundation, either version 3 of the License, or (at your option)
any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with
this program. If not, see &lt;https://www.gnu.org/licenses/&gt;.</code></pre>
</section><section id="acknowledgments" class="level2"><h2 class="anchored" data-anchor-id="acknowledgments">Acknowledgments</h2>
<div style="display: flex; align-items: flex-start; margin-bottom: 2em;">
<div style="flex: 0 0 30%; display: flex; justify-content: center; margin: auto 0;">
<a href="https://doi.org/10.17605/OSF.IO/ZE6WT">
<img src="images/acessosan-logo.svg" alt="AcessoSAN Logo" style="max-width: 140px; width: 100%; height: auto;"></a>
</div>
<div style="flex: 1; padding-left: 1em;">This work is part of a research project by the Polytechnic School (<a href="https://www.poli.usp.br/">Poli</a>) of the University of São Paulo (<a href="https://usp.br/">USP</a>), in partnership with the Secretariat for Food and Nutrition Security (<a href="https://www.gov.br/mds/pt-br/orgaos/SESAN">SESAN</a>) of the Ministry of Social Development, Family, and the Fight Against Hunger (<a href="https://www.gov.br/mds/">MDS</a>), titled: <em>AcessoSAN: Mapping Food Access to Support Public Policies on Food and Nutrition Security and Hunger Reduction in Brazilian Cities</em>.</div>
</div>
<div style="display: flex; align-items: flex-start; margin-bottom: 2em;">
<div style="flex: 0 0 30%; display: flex; justify-content: center; margin: auto 0;">
<a href="https://centrodametropole.fflch.usp.br">
<img src="images/cem-icon.svg" alt="CEM Logo" style="max-width: 190px; width: 100%; height: auto;"></a>
</div>
<div style="flex: 1; padding-left: 1em;">This work was developed with support from the Center for Metropolitan Studies (<a href="https://centrodametropole.fflch.usp.br">CEM</a>) based at the School of Philosophy, Letters and Human Sciences (<a href="https://www.fflch.usp.br/">FFLCH</a>) of the University of São Paulo (<a href="https://usp.br">USP</a>) and at the Brazilian Center for Analysis and Planning (<a href="https://cebrap.org.br/">CEBRAP</a>).</div>
</div>
<div style="display: flex; align-items: flex-start; margin-bottom: 2em;">
<div style="flex: 0 0 30%; display: flex; justify-content: center; margin: auto 0;">
<a href="https://fapesp.br/">
<img src="images/fapesp-logo.svg" alt="FAPESP Logo" style="max-width: 160px; width: 100%; height: auto;"></a>
</div>
<div style="flex: 1; padding-left: 1em;">This study was financed, in part, by the São Paulo Research Foundation (<a href="https://fapesp.br/">FAPESP</a>), Brazil. Process Number <a href="https://bv.fapesp.br/en/bolsas/231507/geospatial-data-science-applied-to-food-policies/">2025/17879-2</a>.</div>
</div>
</section><section id="references" class="level2 unnumbered"><h2 class="unnumbered anchored" data-anchor-id="references">References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-allaire" class="csl-entry" role="listitem">
Allaire, J. J., Teague, C., Xie, Y., &amp; Dervieux, C. (n.d.). <em>Quarto</em> [Computer software]. Zenodo. <a href="https://doi.org/10.5281/ZENODO.5960048">https://doi.org/10.5281/ZENODO.5960048</a>
</div>
<div id="ref-brasil" class="csl-entry" role="listitem">
Brasil, Ministério da Saúde, &amp; Departamento de Informática do SUS. (n.d.). <em>Banco de dados do Sistema Único de Saúde - DATASUS</em>. Retrieved July 17, 2024, from <a href="https://datasus.saude.gov.br/">https://datasus.saude.gov.br/</a>
</div>
<div id="ref-brasila" class="csl-entry" role="listitem">
Brasil, &amp; Sistema de Vigilância Alimentar e Nutricional. (n.d.). <em>Módulo gerador de relatórios públicos: estado nutricional dos indivíduos acompanhados por período, fase do ciclo da vida e índice</em>. Retrieved September 23, 2024, from <a href="https://sisaps.saude.gov.br/sisvan/relatoriopublico">https://sisaps.saude.gov.br/sisvan/relatoriopublico</a>
</div>
<div id="ref-ibgeu" class="csl-entry" role="listitem">
Instituto Brasileiro de Geografia e Estatística, &amp; Comissão Nacional de Classificação. (n.d.). <em>CNAE 2.3 Subclasses</em> [Data set]. SIDRA. Retrieved November 16, 2023, from <a href="https://concla.ibge.gov.br/classificacoes/download-concla.html">https://concla.ibge.gov.br/classificacoes/download-concla.html</a>
</div>
<div id="ref-map2019a" class="csl-entry" role="listitem">
Malaria Atlas Project. (2019). <em>Friction surface: <span>Global</span> walking only friction surface</em> (Version 202001) [GeoTIFF]. <a href="https://data.malariaatlas.org/maps?layers=Accessibility:202001_Global_Walking_Only_Friction_Surface">https://data.malariaatlas.org/maps?layers=Accessibility:202001_Global_Walking_Only_Friction_Surface</a>
</div>
<div id="ref-openstreetmap" class="csl-entry" role="listitem">
OpenStreetMap Contributors. (n.d.). <em><span>OpenStreetMap</span></em> [Computer software]. OpenStreetMap Foundation. <a href="https://www.openstreetmap.org">https://www.openstreetmap.org</a>
</div>
<div id="ref-pereirab" class="csl-entry" role="listitem">
Pereira, R. H. M., &amp; Goncalves, C. N. (n.d.). <em><span class="nocase">geobr</span>: <span>Download</span> official spatial data sets of <span>Brazil</span></em> [Computer software]. <a href="https://doi.org/10.32614/CRAN.package.geobr">https://doi.org/10.32614/CRAN.package.geobr</a>
</div>
<div id="ref-pereiraa" class="csl-entry" role="listitem">
Pereira, R. H. M., &amp; Herszenhut, D. (n.d.). <em><span class="nocase">geocodebr</span>: <span>Geolocalização</span> de endereços brasileiros</em> [Computer software]. <a href="https://doi.org/10.32614/CRAN.package.geocodebr">https://doi.org/10.32614/CRAN.package.geocodebr</a>
</div>
<div id="ref-rcoreteama" class="csl-entry" role="listitem">
R Core Team. (n.d.). <em>R: <span>A</span> language and environment for statistical computing</em> [Computer software]. R Foundation for Statistical Computing. <a href="https://www.R-project.org">https://www.R-project.org</a>
</div>
<div id="ref-silva2025" class="csl-entry" role="listitem">
Silva, M. A. L. da, Mendes, L. L., Leite, M. A., Rocha, L. L., Borges, C. A., Levy, R. B., &amp; Louzada, M. L. da C. (2025). Sistema de classificação dos locais de aquisição de alimentos com base no <span><em>Guia Alimentar para a População Brasileira</em></span>: Locais-Nova. <em>Epidemiologia e Serviços de Saúde</em>, <em>34</em>, e20240361. <a href="https://doi.org/10.1590/S2237-96222025v34.20240361.pt">https://doi.org/10.1590/S2237-96222025v34.20240361.pt</a>
</div>
<div id="ref-usheya" class="csl-entry" role="listitem">
Ushey, K., &amp; Wickham, H. (n.d.). <em><span class="nocase">renv</span>: <span>Project</span> environments</em> [Computer software]. <a href="https://doi.org/10.32614/CRAN.package.renv">https://doi.org/10.32614/CRAN.package.renv</a>
</div>
<div id="ref-vartanian2025z" class="csl-entry" role="listitem">
Vartanian, D., Penz, C. de L. e. S., Caldeira, G., Fernandes, C. N., &amp; Giannotti, M. A. (2025). <em>A reproducible pipeline for processing, geocoding, and classifying <span>CNPJs</span> from the <span>Brazilian Federal Revenue Service</span> (<span>RFB</span>) using the <span>Locais-Nova</span> scale</em> [Computer software]. Center for Metropolitan Studies of the University of São Paulo. <a href="https://cem-usp.github.io/locais-nova-rfb-geocoding">https://cem-usp.github.io/locais-nova-rfb-geocoding</a>
</div>
<div id="ref-wickhamb" class="csl-entry" role="listitem">
Wickham, H. (n.d.-a). <em>The tidyverse style guide</em>. Retrieved July 17, 2023, from <a href="https://style.tidyverse.org">https://style.tidyverse.org</a>
</div>
<div id="ref-wickhamc" class="csl-entry" role="listitem">
Wickham, H. (n.d.-b). <em>Tidy design principles</em>. <a href="https://design.tidyverse.org">https://design.tidyverse.org</a>
</div>
<div id="ref-wickham2023c" class="csl-entry" role="listitem">
Wickham, H. (2023). <em>The tidy tools manifesto</em>. Tidyverse. <a href="https://tidyverse.tidyverse.org/articles/manifesto.html">https://tidyverse.tidyverse.org/articles/manifesto.html</a>
</div>
<div id="ref-wickham2023e" class="csl-entry" role="listitem">
Wickham, H., Çetinkaya-Rundel, M., &amp; Grolemund, G. (2023). <em>R for data science: <span>Import</span>, tidy, transform, visualize, and model data</em> (2nd ed.). O’Reilly Media. <a href="https://r4ds.hadley.nz">https://r4ds.hadley.nz</a>
</div>
</div>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/cem-usp\.github\.io\/locais-nova-location-allocation\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/cem-usp/locais-nova-location-allocation/edit/main/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/cem-usp/locais-nova-location-allocation/blob/main/index.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/cem-usp/locais-nova-location-allocation/issues/" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>